\section{Axioms}

Note that the real projective plane described above satisfies the following set of axioms:

\begin{framed}

\begin{enumerate}[p-I.]
\item\label{def:proj-axioms:1} Any two distinct points lie on a unique line.
\item\label{def:proj-axioms:2} Any two distinct lines pass thru a unique point.
\item\label{def:proj-axioms:3} There exist at least four points of which no three are collinear.
\end{enumerate}

\end{framed}

Let us take these three axioms as a definition of the \index{projective!plane}\emph{projective plane};
so the real projective plane discussed above becomes its particular example.

{

\begin{wrapfigure}{r}{26mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-246}
\end{wrapfigure}

There is an example of a projective plane that contains exactly 3 points on each line.
This is the so-called \index{Fano plane}\emph{Fano plane} which you can see on the diagram;
it contains $7$ points and $7$ lines.
This is an example of a \index{finite projective plane}\emph{finite projective plane};
that is, a projective plane with finitely many points.

}

\begin{thm}{Exercise}\label{ex:finite-pp}
Show that any line in a projective plane contains at least three points.
\end{thm}


Consider the following dual analog of Axiom~p-\ref{def:proj-axioms:3}:

\begin{framed}
\noindent {\rm p-III$'\!$.} 
There exist at least four lines of which no three are concurrent.
\end{framed}

\begin{thm}{Exercise}\label{ex:3=3'}
Show that Axiom \textit{p-\ref{def:proj-axioms:3}$'$} is equivalent to Axiom \textit{p-\ref{def:proj-axioms:3}}.
That is, 
\begin{center}
\textit{p-\ref{def:proj-axioms:1}, p-\ref{def:proj-axioms:2}, and p-\ref{def:proj-axioms:3} imply  p-\ref{def:proj-axioms:3}$'$},
\end{center}
and 
\begin{center}
\textit{p-\ref{def:proj-axioms:1}, p-\ref{def:proj-axioms:2}, and p-\ref{def:proj-axioms:3}$'$ imply p-\ref{def:proj-axioms:3}}.
\end{center}

\end{thm}

The exercise above shows that in the given axiomatic system,
lines and points have the same rights.
One can switch everywhere words ``point'' with ``line'', ``pass thru'' with ``lies on'', ``collinear'' with ``concurrent'' and we get an equivalent set of axioms ---  Axioms p-\ref{def:proj-axioms:1} and p-\ref{def:proj-axioms:2} convert into each other,
and the same happens with the pair p-\ref{def:proj-axioms:3} and p-\ref{def:proj-axioms:3}$'$.

\begin{thm}{Exercise}\label{ex:oder}
Assume that one of the lines in a finite projective plane contains exactly $n+1$ points.
\begin{enumerate}[(a)]
\item\label{ex:oder:a} Show that each line contains exactly $n+1$ points.
\item\label{ex:oder:b} Show that the plane contains  exactly $n^2+n+1$ points.
\item\label{ex:oder:c} Show that there is no projective plane with exactly 10 points.
\item\label{ex:oder:d} Show that in any finite projective plane, the number of points coincides with the number of lines.
\end{enumerate}
\end{thm}

The number $n$ in the above exercise is called \index{order of finite projective plane}\emph{order} of finite projective plane.
For example, the Fano plane has order $2$.
Let us finish by stating a famous open problem in finite geometry.

\begin{thm}{Conjecture}
The order of any finite projective plane is a power of a prime number.
\end{thm}


\parbf{\ref{ex:finite-pp}.}
Let $A$, $B$, $C$, and $D$ 
be the points provided by Axiom~p-\ref{def:proj-axioms:3}.
Given a line $\ell$, we can assume that $A\notin \ell$; 
otherwise, permute the labels of the points.
Then by axioms p-\ref{def:proj-axioms:1} and p-\ref{def:proj-axioms:2},
the three lines $(AB)$, $(AC)$, and $(AD)$ intersect $\ell$ at distinct points.
Consequently, $\ell$ contains at least three points. 

\parbf{\ref{ex:3=3'}.}
Let $A$, $B$, $C$, and $D$ 
be the points provided by Axiom~p-\ref{def:proj-axioms:3}.
Show that the lines $(AB)$, $(BC)$, $(CD)$, and $(DA)$
satisfy Axiom~p-\ref{def:proj-axioms:3}$'$.
The proof of the converse is similar.

\parbf{\ref{ex:oder}.} 
Let $\ell$ be a line with $n+1$ points on it.

By Axiom~p-\ref{def:proj-axioms:3}, given any line $m$, there is a point $P$ that does not lie on $\ell$ nor on~$m$.

By axioms p-\ref{def:proj-axioms:1} and p-\ref{def:proj-axioms:2}, there is a bijection between the lines passing thru $P$ and the points on~$\ell$.
In particular, exactly $n+1$ lines passing thru~$P$.

The same way, we get a bijection between the lines passing thru $P$ and the points on~$m$. 
Hence \textit{(\ref{ex:oder:a})} follows.

Fix a point~$X$.
By Axiom~p-\ref{def:proj-axioms:1}, any point $Y$ lies on a unique line passing thru~$X$.
From part \textit{(\ref{ex:oder:a})}, each such line contains $X$ and yet $n$ point.
Hence \textit{(\ref{ex:oder:b})} follows.

To solve \textit{(\ref{ex:oder:c})}, show that the equation
\[n^2+n+1\z=10\] 
does not have  an integer solution and then apply part~\textit{(\ref{ex:oder:b})}.


For \textit{(\ref{ex:oder:d})}, count the number of lines crossing a given line using part \textit{(\ref{ex:oder:a})} and apply~\textit{(\ref{ex:oder:b})}.























Suppose $(XY)\parallel (VW)$; so
\[\overrightarrow{XY}=\lambda\cdot\overrightarrow{VW}\]
for some real $\lambda$.
The value $\lambda$ is called \emph{signed ration of $XY$ and $VW$};
briefly $\lambda=(\tfrac{XY}{VW})$.
Note that 
\[\left(\frac{XY}{VW}\right)=\pm \frac{XY}{VW};\]
the sign is ``$+$'' if the vectors $\overrightarrow{XY}$ and $\overrightarrow{VW}$ point in the same direction; otherwise, it is ``$-$''.
If $(XY)\nparallel (VW)$, then the signed ratio $(\tfrac{XY}{VW})$ is undefined.

By the fundamental theorem of affine geometry (\ref{thm:fundamental-theorem-of-affine-geometry}), affine transformations respect signed ratio;
that is if $P\mapsto P'$ is an affine transformation and the signed ration $(\tfrac{XY}{VW})$ is defined, then 
\[\left(\frac{X'Y'}{V'W'}\right)=\left(\frac{XY}{VW}\right).\]

\begin{thm}{Definition}

\end{thm}

Consider a finite sequence of pairs $(A_1,m_1),\dots, (A_n,m_n)$, where 




\begin{thm}{Lemma}
Suppose $a+b\ne0$.
Then $(\tfrac{AZ}{ZB}=\tfrac ab$ if and only if $Z\in (AB)$
\end{thm}



\section{Center of mass}

A pair $(A,a)$ where $A$ is a point in the Euclidean plane and $a$ is a real number will be called \index{weighed point}\emph{weighed point};
the value $a$ is called \index{mass}\emph{mass} of the weighed point.
The mass might take positive or negative value.

Suppose $(A_1,a_1),\dots,(A_n,a_n)$ is a finite collection of weighed points.
A point $Z$ will be called the center of mass of $(A_1,a_1),\dots,(A_n,a_n)$
if 
\[a_1\cdot \overrightarrow{ZA_1}+\dots+a_n\cdot \overrightarrow{ZA_n}=\overrightarrow0.\]

\begin{thm}{Exercise}
Let $P\mapsto P'$ be an affine transformation.
Suppose $Z$ is a center of mass of $(A_1,a_1),\dots,(A_n,a_n)$.
Show that $Z'$ is a center of mass of $(A_1',a_1),\dots,(A_n',a_n)$.
\end{thm}

\begin{thm}{Proposition}
Let $(A_1,a_1),\dots,(A_n,a_n)$ be a finite collection of weighed points.
Suppose that its total mass does not vanish; that is, $a_1+\dots+a_n\ne 0$.
Then $(A_1,a_1),\dots,(A_n,a_n)$ has unique center of mass.
\end{thm}

\parit{Proof.}
Choose a point $O$.
Let $Z$ be defined by
\[\overrightarrow{OZ}=\frac{a_1\cdot \overrightarrow{ZA_1}+\dots+a_n\cdot \overrightarrow{ZA_n}}{m_1+\dots+m_n}.\]
Observe that 
\[\overrightarrow{ZA_i}=\overrightarrow{OA_i}-\overrightarrow{OZ}\]
for each $i$.
Therefore 
\begin{align*}
m_1\cdot \overrightarrow{ZA_1}+\dots+m_n\cdot \overrightarrow{ZA_n}
&=
m_1\cdot \overrightarrow{OA_1}+\dots+m_n\cdot \overrightarrow{OA_n}-
\\
&-(m_1+\dots+m_n)\cdot \overrightarrow{OZ}=
\\
&=\overrightarrow0;
\end{align*}
that is, $Z$ is a center of mass.

On the other hand, if $Z'$ is another center of mass, then 
\begin{align*}\overrightarrow0
&=
a_1\cdot \overrightarrow{ZA_1}+\dots+a_n\cdot \overrightarrow{ZA_n}
-a_1\cdot \overrightarrow{Z'A_1}-\dots-a_n\cdot \overrightarrow{Z'A_n}=
\\
&=(a_1+\dots+a_n)\cdot \overrightarrow{Z'Z}.
\end{align*}
Since $a_1+\dots+a_n\ne0$, we get $\overrightarrow0=\overrightarrow{Z'Z}$;
therefore $Z'=Z$.
\qeds

\begin{thm}{Exercise}
Let $Z$ be the center of mass of two weighed points $(A,a)$ and $(B,b)$;
Suppose $a+b\ne0$ and $A\ne B$.
Show that $Z\in (AB)$ and $\tfrac{AZ}{ZB}=|\tfrac ba|$.
Moreover, $\tfrac ba>0$ if and only if $Z$ lies between $A$ and $B$.
\end{thm}







\section{On inversive transformations}

This section is included mainly as an illustration;
it gives an application of the fundamental theorem of affine geometry to inversive geometry.

Recall that the inversive plane is the Euclidean plane with an added point at infinity, denoted by~$\infty$.
We assume that every line passes thru~$\infty$.
Recall that the term {}\emph{circline} stands for \textit{circle or line}.

An \index{inversive!transformation}\emph{inversive transformation} is a bijection from the inversive plane to itself that sends circlines to circlines.
{}\emph{Inversive geometry} studies the {}\emph{circline incidence structure} of the inversive plane
(it deals with which points lie on which circlines and nothing else).

\begin{thm}{Theorem}\label{thm:inversions-inversive}
A map from the inversive plane to itself is an inversive transformation
if and only if it can be presented as a composition of inversions and reflections.  
\end{thm}

Exercise~\ref{ex:inversion-Mob} gives another description of inversive transformations by means of complex coordinates.

\parit{Proof.}
Evidently, reflection is an inversive transformation --- it maps lines to lines and circles to circles.
According to Theorem~\ref{thm:inverse-cline}, any inversion is an inversive transformation as well.
Therefore, the same holds for any composition of inversions and reflections.

To prove the converse, 
fix an inversive transformation~$\alpha$.

Assume $\alpha(\infty)=\infty$.
Recall that any circline passing thru $\infty$ is a line.
If follows that $\alpha$ maps lines to lines;
that is,
$\alpha$ is an affine transformation that also maps circles to circles.

Note that any motion or rescaling (defined in Exercise~\ref{ex:afine-linear}\textit{\ref{ex:afine-linear:scaling}}) are affine transformations that map circles to circles.
Composing $\alpha$ with motions and scalings, we can obtain another affine transformation $\alpha'$ that maps a given unit circle $\Gamma$ to itself.
By Exercise~\ref{ex:center-circ-affine},
$\alpha'$ fixes the center, say $O$, of the circle $\Gamma$.

Set $P'=\alpha'(P)$.
It follows that if $OP=1$, then $OP'=1$.
By Proposition~\ref{prop:affine-linear}, $OP=OP'$ for any point $P$.
Finally, by Exercise~\ref{ex:parallelogram-rule}, we have that if 
$\overrightarrow{XY}=\overrightarrow{OP}$, then $\overrightarrow{X'Y'}=\overrightarrow{O'P'}$.
It follows that $XY=X'Y'$ for any points $X$ and $Y$;
that is, $\alpha'$ is a motion.

Summarizing the discussion above, $\alpha$ is a composition of motions and scalings.
Observe that any scaling is a composition of two inversions across concentric circles.
Recall that any motion is a composition of reflections (see Exercise~\ref{ex:3-reflections}).
Hence $\alpha$ is a composition of inversions and reflections.


In the remaining case $\alpha(\infty)\ne \infty$, set $P=\alpha(\infty)$.
Consider an inversion $\beta$ across a circle with center $P$ and set $\gamma=\beta\circ\alpha$.
Note that $\beta(P)=\infty$; 
therefore, $\gamma(\infty)=\infty$.
Since $\alpha$ and $\beta$ are inversive, so is $\gamma$.
From above we get that $\gamma$ is a composition of reflections and inversions.
Since $\beta$ is self-inverse, we get
$\alpha=\beta\circ\gamma$;
therefore $\alpha$ is a composition of reflections and inversions as well.
\qeds

\begin{thm}{Exercise}\label{ex:inversive-angle}
Show that inversive transformations preserve the angle between arcs up to sign.

More precisely, assume $A'B_1'C_1'$, $A'B_2'C_2'$ are the images of two arcs $AB_1C_1$, $AB_2C_2$ under an inversive transformation.
Let $\alpha$ and $\alpha'$ denote the angle between the tangent half-lines to $AB_1C_1$ and $AB_2C_2$ at $A$
and the angle between the tangent half-lines to $A'B_1'C_1'$ and $A'B_2'C_2'$ at $A'$ respectively.
Then 
\[\alpha'\equiv\pm \alpha.\]
\end{thm}


\begin{thm}{Exercise}\label{ex:reflection/inversive}
Show that any reflection can be presented as a composition of three inversions. 
\end{thm}

The exercise above implies the following stronger version of Theorem~\ref{thm:inversions-inversive}:
\textit{any inversive transformation is a composition of inversions} ---
no reflections needed.



















Let us illustrate Taurinus substitution on the cosine rule.
Consider a spherical triangle $ABC$; set
$a=BC_s$, $b=CA_s$, $c=AB_s$, and $\gamma=\measuredangle_sBCA$.
The spherical cosine rule can be written as 
\[\cos c=\cos a \cdot \cos b+\sin a\cdot \sin b\cdot \cos\gamma.\]
After Taurinus substitution we get 
\[\cos (i\cdot c)=\cos (i\cdot a) \cdot \cos (i\cdot b)+\sin (i\cdot a)\cdot \sin (i\cdot b)\cdot \cos\gamma.\]
Note that 
\[\sin (i\cdot x)=\frac{e^{i\cdot x}}{}\]

To get its hyperbolic version we substitute $i\cdot a$ for $a$, $i\cdot b$ for $b$, and $i\cdot c$ for $c$; we do not change $\gamma$ since it is angle.
This way we get 


\begin{thm}{Exercise}
Show that $\sin (i\cdot x)=-i\cdot \sinh x$ for any $x\in\mathbb{R}$.
\end{thm}


\begin{thm}{Exercise}
\begin{enumerate}[(a)]
\item Show that $\sinh (i\cdot x)=i\cdot \sin x$ for any $x\in\mathbb{R}$.
\item Show that the Taurinus substitution
\end{enumerate}


\end{thm}

%???
\begin{thm}{Exercise}
Consider a spherical triangle $ABC$; set
$a=BC_s$, $b=CA_s$, $c=AB_s$,
$\alpha=\measuredangle_sCAB$, $\beta=\measuredangle_sABC$, $\gamma=\measuredangle_sBCA$.
Use the Taurinus substitution to write the hyperbolic analogs to the following formulas in spherical geometry:

\begin{enumerate}[(a)]
\item Spherical cosine rule:
\[\cos c=\cos a \cdot \cos b+\sin a\cdot \sin b\cdot \cos\gamma.\]
\item
Spherical sine rule:
\[\frac{\sin a}{\sin \alpha}=\frac{\sin b}{\sin \beta}=\frac{\sin c}{\sin \gamma}.\]
\end{enumerate}
 
\end{thm}















\parit{Proof.}
According to Theorem~\ref{thm:moving}, it is sufficient to prove theorem in two cases: for anny affine transformation and for the extended perspective projection
\[\beta\:(x,y)\mapsto (\tfrac xy,\tfrac 1y).\]

First consider the case of affine transformation.
Let $a,b,c$ be the real numbers such that
\begin{align*}\overrightarrow{L_2L_3}&=a\codt\overrightarrow{L_1L_2},& \overrightarrow{L_3L_4}&=b\codt\overrightarrow{L_1L_2},&
\overrightarrow{L_4L_1}&=c\codt\overrightarrow{L_1L_2}.
\end{align*}
By Proposition~\ref{prop:affine-linear}, we have 
\begin{align*}
\overrightarrow{L_2'L_3'}&=a\codt\overrightarrow{L_1'L_2'},& \overrightarrow{L_3'L_4'}&=b\codt\overrightarrow{L_1'L_2'},&
\overrightarrow{L_4'L_1'}&=c\codt\overrightarrow{L_1'L_2'}.
\end{align*}

Observe that 
\[\frac{L_1L_2\cdot L_3L_4}{L_2L_3\cdot L_4L_1}
=\left|\frac{b}{a\cdot c}\right|
=\frac{L'_1L'_2\cdot L'_3L'_4}{L'_2L'_3\cdot L'_4L'_1}.\]
Hence the affine case is proved.

It remains to prove it for $\beta$.
Suppose $L_i=(x_i,y_i)$.
If the line $(L_1L_2)$ is not horizontal, then the values $y_1,y_2,y_3,y_4$ are different.
In this case 
\[\frac{L_1L_2\cdot L_3L_4}{L_2L_3\cdot L_4L_1}
=\left|\frac{(y_1-y_2)\cdot(y_3-y_4)}{(y_2-y_3)\cdot (y_4-y_1)}\right|.\]
Further 
\[\frac{L'_1L'_2\cdot L'_3L'_4}{L'_2L'_3\cdot L'_4L'_1}
=\left|\frac{(\tfrac1{y_1}-\tfrac1{y_2})\cdot(\tfrac1{y_3}-\tfrac1{y_4})}{(\tfrac1{y_2}-\tfrac1{y_3})\cdot (\tfrac1{y_4}-\tfrac1{y_1})}\right|.\]
\qeds



















\parbf{Exercise~\ref{ex:matrix-vector}.} Suppose that $\beta\:\left(\begin{smallmatrix}
x\\ y
\end{smallmatrix} \right)
  \mapsto
  M
  \cdot
  \left(\begin{smallmatrix}
x\\ y
\end{smallmatrix} \right)
  +
\left(\begin{smallmatrix}
v\\ w
\end{smallmatrix} \right)$.
Let $M^{-1}$ be the inverse of the matrix $M$.
Note that
\[\beta^{-1}\:\left(\begin{smallmatrix}
x\\ y
\end{smallmatrix} \right)
\mapsto
M^{-1}
\cdot
(\begin{smallmatrix}
x\\ y
\end{smallmatrix} )
-M^{-1}
\cdot
(\begin{smallmatrix}
v\\ w
\end{smallmatrix}).
\] 
is inverse of~$\beta$.
Hence part \textit{(\ref{ex:matrix-vector:a})} follows.
Part \textit{(\ref{ex:matrix-vector:b})} can be done by straightforward computations.
















Composing $\alpha$ with a reflection

Composing $\alpha$ with a reflection, say $\rho_1$, we can assume that $\alpha'\z=\rho_1\circ\alpha$ maps the unit circle with center at the origin to a concentric circle. 


Composing the obtained map $\alpha'$ with a {}\emph{homothety} 
\[\chi\:\left(\begin{smallmatrix}
x\\ y
\end{smallmatrix} \right)\mapsto \left(\begin{smallmatrix}
k\cdot x\\ k\cdot y
\end{smallmatrix} \right),\]
we can assume that $\alpha''=\chi\circ\alpha'$ sends the unit circle to itself.


Composing the obtained map $\alpha''$ with a reflection $\rho_2$ in a line thru the origin,
we can assume that $\alpha'''=\rho_2\circ\alpha''$ in addition maps the point $(1,0)$ to itself.

By Exercise~\ref{ex:center-circ-affine},
$\alpha'''$ fixes the center of the circle;
that is, it fixes the origin.

The obtained map $\alpha'''$ is an affine transformation.
Applying Theorem~\ref{thm:affine=linear}, together with the properties of $\alpha''$ described above we get that
\[\alpha'''\:\left(\begin{smallmatrix}
x\\ y
\end{smallmatrix} \right)
  \mapsto
  \left(\begin{smallmatrix}
1&b\\ 0&d
\end{smallmatrix} \right)
  \cdot
  \left(\begin{smallmatrix}
x\\ y
\end{smallmatrix} \right)
\]
for an invertible matrix $\left(\begin{smallmatrix}
1&b\\ 0&d
\end{smallmatrix} \right)$.
Since the point $(0,1)$ maps to the unit circle we get that 
\[b^2+d^2=1.\]
Since the point $(\tfrac1{\sqrt{2}},\tfrac1{\sqrt{2}})$ maps to the unit circle we get that 
\[(b+d)^2=1.\]
It follows 
\[\alpha'''\:\left(\begin{smallmatrix}
x\\ y
\end{smallmatrix} \right)
  \mapsto
  \left(\begin{smallmatrix}
1&0\\ 0&\pm1
\end{smallmatrix} \right)
\cdot
\left(\begin{smallmatrix}
x
\\ 
y
\end{smallmatrix} \right);
\]
that is, either $\alpha'''$ is the identity map or the reflection across the $x$-axis.

Note that the homothety $\chi$ is a composition of two inversions in concentric circles.
Therefore, $\alpha$ is a composition of inversions and reflections if and only are so is $\alpha'$, $\alpha''$, and $\alpha'''$.

























\section*{Uniqueness}
\addtocontents{toc}{Uniqueness.}

\begin{thm}{Lemma}\label{lem:3-fix}
Assume $\gamma$ is an affine transformation which fix three points $\left(\begin{smallmatrix}
0\\ 0
\end{smallmatrix} \right)$, 
$\left(\begin{smallmatrix}
1\\ 0
\end{smallmatrix} \right)$ 
and $\left(\begin{smallmatrix}
0\\ 1
\end{smallmatrix} \right)$ on the coordinate plane.
Then $\gamma$ is the identity map; 
that is, $\gamma\left(\begin{smallmatrix}
x\\ y
\end{smallmatrix} \right)
=
\left(\begin{smallmatrix}
x\\ y
\end{smallmatrix} \right)$ for any point $\left(\begin{smallmatrix}
x\\ y
\end{smallmatrix} \right)$.
\end{thm}

\parit{Proof.}
Since an affine transformation sends lines to lines, we get that each axes is mapped to itself.

According to Exercise~\ref{ex:affine-par}, 
parallel lines are mapped to parallel lines.
Therefore, we get that horizontal lines mapped to horizontal lines 
and
vertical lines mapped to vertical.
In other words,
\[\gamma\left(\begin{smallmatrix}
x\\ y
\end{smallmatrix} \right)
=
\left(\begin{smallmatrix}
f(x)\\ h(y)
\end{smallmatrix} \right).\]
for some functions $f,h\:\mathbb{R}\to\mathbb{R}$.

Note that $f(1)=h(1)=1$ and according to 
Exercise~\ref{ex:R-hom}, 
both $f$ and $h$ satisfies the other two conditions of the algebraic lemma (\ref{lem:R-auto}).
Applying the lemma, we get that $f$ and $h$ 
are identity functions
and so is~$\gamma$.
\qeds

\parit{Proof of uniqueness in \ref{thm:fundamental-theorem-of-affine-geometry}.}
Fix an affine transformation~$\alpha$.
Set 
\begin{align*}
\left(\begin{smallmatrix}
v\\ w
\end{smallmatrix} \right)
&= 
\alpha\left(\begin{smallmatrix}
0\\ 0
\end{smallmatrix} \right),
\\
\left(\begin{smallmatrix}
a\\ c
\end{smallmatrix} \right)
&=
\alpha\left(\begin{smallmatrix}
1\\ 0
\end{smallmatrix} \right)
-
\alpha\left(\begin{smallmatrix}
0\\ 0
\end{smallmatrix} \right),
\\
\left(\begin{smallmatrix}
b\\ d
\end{smallmatrix} \right)
&=
\alpha\left(\begin{smallmatrix}
1\\ 0
\end{smallmatrix} \right)
-
\alpha\left(\begin{smallmatrix}
0\\ 0
\end{smallmatrix} \right).
\end{align*}


Note that the points 
$\alpha\left(\begin{smallmatrix}
0\\ 0
\end{smallmatrix} \right)$, 
$\alpha\left(\begin{smallmatrix}
0\\ 1
\end{smallmatrix} \right)$, 
$\alpha\left(\begin{smallmatrix}
1\\ 0
\end{smallmatrix} \right)$ do not lie on one line. 
Therefore, the matrix $\bigl(\begin{smallmatrix}
a&b\\ c&d
\end{smallmatrix} \bigr)$
is invertible.

For the affine transformation $\beta$ defined by \ref{eq:affine=linear}
we have 
\begin{align*}
\beta\left(\begin{smallmatrix}
0\\ 0
\end{smallmatrix} \right)
&=
\alpha\left(\begin{smallmatrix}
0\\ 0
\end{smallmatrix} \right),
\\
\beta\left(\begin{smallmatrix}
1\\ 0
\end{smallmatrix} \right)
&=
\alpha\left(\begin{smallmatrix}
1\\ 0
\end{smallmatrix} \right),
\\
\beta\left(\begin{smallmatrix}
0\\ 1
\end{smallmatrix} \right)
&=
\alpha\left(\begin{smallmatrix}
0\\ 1
\end{smallmatrix} \right).
\end{align*}

Consider the composition $\gamma\z=\alpha\circ \beta^{-1}$.
Note that $\gamma$ is an affine transformation which fix points $\left(\begin{smallmatrix}
0\\ 0
\end{smallmatrix} \right)$, 
$\left(\begin{smallmatrix}
1\\ 0
\end{smallmatrix} \right)$ 
and $\left(\begin{smallmatrix}
0\\ 1
\end{smallmatrix} \right)$.
By Lemma~\ref{lem:3-fix}, $\gamma$ is the identity map or equivalently $\alpha=\beta$.
\qeds

\begin{thm}{Exercise}
Show that any affine transformation is continuous. %??? 
\end{thm}






















\begin{thm}{Theorem}
If an affine transformation $\alpha$ of Eulidean plane fixes two points $P$ and $Q$,
then it fixes all the points on the line $(PQ)$;
that is, $\alpha(X)=X$ for any $X\in (PQ)$.
\end{thm}

\parit{Proof.}
Without loss of generality we may assume that $PQ=1$.
if not rescale whole plane.
In this case we can choose coordinate on the line $(PQ)$ so that $P$ corresponds to $0$ and $Q$ corresponds to $1$.

Suppose $X$ is a point on $(PQ)$ with coordinate $x$.
Denote by $f(x)$ the coordinte of $\alpha(X)$.

Since $\alpha(P)=P$ and $\alpha(Q)=Q$, we have $f(0)=0$ and $f(1)=1$.
Further by Exercise~\ref{ex:R-hom}, $f(x+y)=f(x)+f(y)$ and $f(x\cdot y)=f(x)\cdot f(y)$.
By Lemma~\ref{lem:R-auto}, $f(x)=x$ for any $x\in \mathbb{R}$.
Hence the result.
\qeds


















In this section we introduce \emph{affine transformations} which after proving theorems \ref{thm:affine=linear} and ???, it will become a synonym for \emph{affine transformations}.

A map $P\mapsto P'$ from the Euclidean plane to it self is called affine 
if
\[\overrightarrow{XZ}=t\cdot \overrightarrow{XY}
\quad\Longleftrightarrow\quad
\overrightarrow{X'Z'}=t\cdot \overrightarrow{X'Y'}\]
for any triple of points.

Note that any affine transformation is an affine transformation.
Indeed, a line $(XY)$ can be defined as a set of points $Z$ such that 
\[\overrightarrow{XZ}=t\cdot \overrightarrow{XY}\]
for $t\in \mathbb{R}$.
If $P\mapsto P'$ is an affine transormation, then 
\[\overrightarrow{X'Z'}=t\cdot \overrightarrow{X'Y'},\]
where $t$ is defined by \ref{eq:Xx}.

Suppose $ABC$ is a nondegenerate triangle in the Euclidean plane.
Note that in this case the vectors $\overrightarrow{CA}$ and $\overrightarrow{CB}$ are linearly independent.
In particular for any point $X$ in the plane there is unique pair of real numbers $a$ and $b$ such that 
\[\overrightarrow{CX}=x_1\cdot \overrightarrow{CA}+x_2\cdot \overrightarrow{CB}.\eqlbl{eq:a+b}\]

Given another triangle, $A'B'C'$ consider the map $\alpha\:X\mapsto X'$ defined by 
\[\overrightarrow{C'X'}=x_1\cdot \overrightarrow{C'A'}+x_2\cdot \overrightarrow{C'B'},\eqlbl{eq:a+b'}\]
where $x_1$ and $x_2$ are as in \ref{eq:a+b}.
A map that can be defined this way is called \emph{affine}.
Note that affine transformation maps $\triangle ABC$ to $\triangle A'B'C'$.

Observe that inverse of affine transformation is an affine transformation.
Indeed, to define the inverse we need to swap the triangles $\triangle ABC$ and $\triangle A'B'C'$.
Furthere note that any affine transformation is a bijection,
simply because its inverse is defined.
%Indeed \ref{eq:a+b} defines a bijection $X\leftrightarrow (a,b)$ btween points on the plane and pairs of real numbers. The same way \ref{eq:a+b'} defines a bijection $X'\leftrightarrow (a,b)$. Therefore $X\leftrightarrow X'$ is a bijection.

Observe that a line $(XY)$ can be defined as a set of points $Z$ such that 
\[\overrightarrow{XZ}=t\cdot \overrightarrow{XY}\]
for $t\in \mathbb{R}$.
If $P\mapsto P'$ is an affine transormation, then 
\[\overrightarrow{X'Z'}=t\cdot \overrightarrow{X'Y'},\]
where $t$ is defined by \ref{eq:Xx}.
Indeed, assume that an affine transformation is defined by triangles $ABC$ and $A'B'C'$.
Then 

We may assume that 
\begin{align*}
\overrightarrow{CX}
&=x_1\cdot \overrightarrow{CA}+x_2\cdot \overrightarrow{CB},
&
\overrightarrow{C'X'}
&=x_1\cdot \overrightarrow{C'A'}+x_2\cdot \overrightarrow{C'B'},
\\
\overrightarrow{CY}&=y_1\cdot \overrightarrow{CA}+y_2\cdot \overrightarrow{CB},
&
\overrightarrow{C'Y'}&=y_1\cdot \overrightarrow{C'A'}+y_2\cdot \overrightarrow{C'B'},
\\
\overrightarrow{CZ}&=z_1\cdot \overrightarrow{CA}+z_2\cdot \overrightarrow{CB},
&
\overrightarrow{C'Z'}&=z_1\cdot \overrightarrow{C'A'}+z_2\cdot \overrightarrow{C'B'}.
\end{align*}
Straightforward calculations show that 
\[\overrightarrow{XZ}=t\cdot \overrightarrow{XY}
\quad\Longleftrightarrow\quad
\overrightarrow{X'Z'}=t\cdot \overrightarrow{X'Y'}\]



Fix a coordinate system on the Euclidean plane.
If a point $P$ has coordinates $(x,y)$, then we will we will use the same letter $P$ for the column vector $(\begin{smallmatrix}x\\y\end{smallmatrix})$.
This is an abuse of notation, but if the coordinate system is fixed it creates no problem --- the vector $(\begin{smallmatrix}x\\y\end{smallmatrix})$ uniquely defines point $P$ and the other way around.

We say that a map from the Euclidean plane to it self is an \index{affine transformation}\emph{affine transformation} if it can be written as
\[P\mapsto  M \cdot P +V.\]
for a fixed invertible matrix $M=(\begin{smallmatrix}a&b\\c&d\end{smallmatrix})$ and a vector $V=(\begin{smallmatrix}r\\s\end{smallmatrix})$.
Equivalently, the map can be written as 
\[(\begin{smallmatrix}x\\y\end{smallmatrix})
\mapsto
(\begin{smallmatrix}a&b\\c&d\end{smallmatrix})
\cdot
(\begin{smallmatrix}x\\y\end{smallmatrix})
+
(\begin{smallmatrix}r\\s\end{smallmatrix})=
(\begin{smallmatrix}a\cdot x+b\cdot y+r\\c\cdot x+d\cdot y+s\end{smallmatrix}).\]

\begin{thm}{Observations}\label{obs:matrix-vector}
Any affine transformation is a bijection.
Moreover, the afine transformations form a group with respect to composition;
that is:
\begin{enumerate}[(a)]
\item inverse of affine transformation is affine;
\item composition of affine transformation is affine.
\end{enumerate}
\end{thm}

The proof is done by means of direct calculation.

\parit{Proof.}
Consider an affine transformation
\[\beta\:P \mapsto M\cdot P+V.\]
Denote by $M^{-1}$ the inverse of the matrix $M$;
it exists since $M$ is invertible.
Note that 
\[\beta^{-1}\:P
  \mapsto
  M^{-1}
  \cdot
  P
  -
M^{-1}\cdot V.\]
is an inverse of $\beta$.
In particular $\beta$ is a bijection and its invese $\beta^{-1}$ is affine.

Consider another affine transformation
\[\beta'\:P  \mapsto M' \cdot P + V'.\]
Note that 
\[\beta'\circ \beta\:P
\mapsto
(M'\cdot M)
\cdot
P
+
(M'\cdot V+V').\]
Therefore the composition $\beta'\circ \beta$ is affine.
\qeds

\begin{thm}{Lemma}\label{lem:matrix-vector}
Given two nondegenerate triangles $ABC$ and $A'B'C'$ in the Euclidean plane, there is a unique affine transformation that sens 
$A\mapsto A'$, $B\mapsto B'$, and $C\mapsto C'$.
\end{thm}


\parit{Proof.}
Denote by $a_1,a_2,b_1,b_2,c_1,c_2$ the coordinates of $A$, $B$, and $C$.
Set 
\begin{align*}
a&=a_1-c_1,
&
b&=b_1-c_1,
\\
c&=a_2-c_2,
&
d&=b_2-c_2.
\end{align*}
Since the triangle $ABC$ is nondegenerate, the vectors $\bigl(\begin{smallmatrix}
a\\ c
\end{smallmatrix} \bigr)$ and $\bigl(\begin{smallmatrix}
b\\ d
\end{smallmatrix} \bigr)$ are linearly independent (see Exercise~\ref{ex:line-coord}\textit{\ref{ex:line-coord:parameter}}).
Therefore the matrix $M\z=\bigl(\begin{smallmatrix}
a&b\\ c&d
\end{smallmatrix} \bigr)$ is invertible.
Consider the affine transformation map 
\[\beta\:P\mapsto M \cdot P + C.\]

Set $O=(\begin{smallmatrix}0\\0
\end{smallmatrix})$, $E=(\begin{smallmatrix}1\\0
\end{smallmatrix})$, and $I=(\begin{smallmatrix}0\\1
\end{smallmatrix})$.
Straightforward calculations show that $\beta\:O\mapsto C$, $\beta\:E\mapsto A$, and $\beta\:I\z\mapsto B$.

The same way one can construct an affine transformation $\beta'$ that sends $O\mapsto C'$, $E\mapsto A'$, and $I\z\mapsto B'$.

By Observation~\ref{obs:matrix-vector}, the composition $\beta'\circ\beta^{-1}$ is affine.
By construction, $\beta'\circ\beta^{-1}$ sends $A\mapsto A'$, $B\mapsto B'$, and $C\z\mapsto C'$.
\qeds


\begin{thm}{Theorem}\label{thm:affine=linear}
Any affine transformation, is an affine transformation.
\end{thm}

\parit{Proof.}
Choose an affine transformation $\beta\:P
\mapsto
M
\cdot P
+
V$.

From Exercise~\ref{ex:line-coord}\textit{\ref{ex:line-coord:parameter}}, it follows that a line can be defined as a set  
\[S+W \cdot t\]
for fixed vectors $S$, $W$ such that $W\ne 0$, and all $t\in\mathbb{R}$.

Note that 
\[\beta\left(S+W \cdot t\right)
=
S'+W' \cdot t
,\]
where 
\[S'=M\cdot S +V
\quad\text{and}\quad
W'=M\cdot W.
\]
Since the matrix $M$ is invertible, $W'\ne 0$; 
in particular, $\beta$ maps lines to lines.
\qeds



















\begin{thm}{Advanced exercise}\label{ex:area-affine}
Show that for any affine transformation $\beta$ there is a constant $k>0$
such that the equality 
\[\area[\beta(\solidtriangle)]=k\cdot\area\solidtriangle.\]
holds for any solid triangle~$\solidtriangle$.

Moreover, if $\beta$ has the matrix form $\left(\begin{smallmatrix}
x\\ y
\end{smallmatrix} \right)
  \mapsto
  \left(\begin{smallmatrix}
a&b\\ c&d
\end{smallmatrix} \right)
  \cdot
  \left(\begin{smallmatrix}
x\\ y
\end{smallmatrix} \right)
  +
\left(\begin{smallmatrix}
v\\ w
\end{smallmatrix} \right)$,
then 
\[k=|\det\left(\begin{smallmatrix}
a&b\\ c&d
\end{smallmatrix} \right)|=|a\cdot d-b\cdot c|.\]

\end{thm}

















\begin{thm}{Exercise}\label{ex:commuting inversions}
Show that two distinct inversions commute if and only if their circles are perpendicular.
That is, if $f$ and $g$ are inversions in distinct circles $\Gamma$ and $\Delta$, then 
$f\circ g=g\circ f$ implies that $\Gamma\perp\Delta$.
\end{thm}











\begin{thm}{Exercise}\label{ex:cline-perp-to-two}
Let $\Omega_1$ and $\Omega_2$ be two distinct circles in the Euclidean plane.
Assume that the point $P$ does not lie on $\Omega_1$ nor on~$\Omega_2$.
Show that either (1) there is a unique circline passing thru $P$ which is perpendicular to $\Omega_1$ and~$\Omega_2$ or (2) any circline passing thru $P$ and perpendicular to $\Omega_1$ is also perpendicular $\Omega_2$.
\end{thm}


\parbf{Exercise~\ref{ex:cline-perp-to-two}.}
Let $P_1$ and $P_2$ be the inverses of $P$ 
in $\Omega_1$ and~$\Omega_2$.

Suppose a circline passes thru $P$.
Apply Corollary~\ref{cor:perp-inverse} and Theorem~\ref{thm:perp-inverse} to show that
$\Gamma\perp\Omega_i$ if and only if $\Gamma\ni P_i$.
Conclude that if $P_1=P_2$, then $\Gamma\perp\Omega_1$ if and only if $\Gamma\perp\Omega_2$.

If $P_1\ne P_2$; then the points $P$, $P_1$, and $P_2$ 
are mutually distinct.
Use Theorem~\ref{thm:circumcenter}, to show that there is a unique circline $\Gamma$ which passes
thru $P$, $P_1$, and~$P_2$.
Conclude that $\Gamma$ is a unique circline satisfying the assumptions.









\begin{thm}{Proposition}\label{prop:arc(angle=angle)}
A point $D$ lies on the arc $ABC$ if and only if 
$$\measuredangle ADC= \measuredangle ABC$$
or $D$ coincides with $A$ or~$C$.
\end{thm}

\parit{Proof.}
If $A$, $B$, and $C$ lie on one line, 
then the statement is evident.

\begin{wrapfigure}{o}{23mm}
\centering
\begin{lpic}[t(-0mm),b(0mm),r(0mm),l(0mm)]{pics/tangent-half-line-3(1)}
\lbl[rb]{8,23;$A$}
\lbl[l]{21,17;$B$}
\lbl[tr]{1,3;$C$}
\lbl[tl]{18,3;$D$}
\end{lpic}
\end{wrapfigure}

Assume $\Gamma$ be the circle passing thru $A$, $B$, and~$C$;
denote by $O$ its center.
By Theorem~\ref{thm:inscribed-angle},
\[2\cdot \measuredangle ABC\equiv \measuredangle AOC.\]

Assume $D$ is distinct from $A$ and~$C$.
According to Theorem~\ref{thm:inscribed-angle},
$D\in\Gamma$ if and only if 
\[2\cdot \measuredangle ADC\equiv \measuredangle AOC.\]
Therefore
$$\measuredangle ADC
= \measuredangle ABC
\quad
\text{or}
\quad
\measuredangle ADC
\equiv
\measuredangle ABC+\pi.$$


By Exercise~\ref{ex:signs-PXQ-PYQ},
if the first identity holds, 
then $B$ and $D$ lie on one side of $(AC)$;
in this case $D$ belongs to the arc~$ABC$.
If the second identity holds, 
then the points $B$ and $D$ lie on opposite sides of $(AC)$,
in this case $D$ does not belong to the arc~$ABC$.
\qeds
















\section*{Inscribed quadrilaterals}
\addtocontents{toc}{Inscribed quadrilaterals.}

A quadrilateral $ABCD$ is called 
\index{quadrilateral!inscribed quadrilateral}\emph{inscribed}
if all the points $A$, $B$, $C$, and $D$ lie on a circline $\Gamma$.
If the arcs $ABC$ and $CDA$ are different, then we say that $A,B,C,D$ appear in the same \index{cyclic order}\emph{cyclic order} on $\Gamma$.

If $\Gamma$ is a circle, then $A,B,C,D$ appear in the same cyclic order on $\Gamma$ if and only if the diagonals of $\square ABCD$ intersect each other.
If $\Gamma$ is a line, then $A,B,C,D$ appear in the same cyclic order if we can cyclic and possibly reversing order we get their order on the line.

\begin{thm}{Theorem}\label{thm:inscribed-quadrilateral}
The quadrilateral $ABCD$ is inscribed 
if and only~if
$$2\cdot\measuredangle ABC+2\cdot\measuredangle CDA\equiv 0.
\eqlbl{eq:inscribed-4angle}$$
Moreover, if $A,B,C,D$ appear in the same cyclic order on the circline, then 
$\measuredangle ABC+\measuredangle CDA
\equiv 
\pi$, and otherwise 
$\measuredangle ABC
\equiv
-\measuredangle CDA$.

\end{thm}


\parit{Proof.} 
Assume first that $\triangle ABC$ is degenerate.
By Corollary~\ref{cor:degenerate=pi},
$$2\cdot \measuredangle ABC\equiv 0;$$
From the same corollary, we get that
$$2\cdot \measuredangle CDA\equiv 0$$ 
if and only if $D\in (AB)$;
hence the first statement follows.

If $\square ABCD$ is convex, then $A,B,C,D$ appear on the line in the same cyclic order then $B$ lies between $A$ and $C$ and $D$ does not, or the other way around.
In the first case $\measuredangle ABC=\pi$ and $\measuredangle CDA= 0$;
in the second case $\measuredangle ABC=0$ and $\measuredangle CDA=\pi$.
Hence the second statement follows.

???

Note that $A,B,C,D$ appear on the circle in the same cyclic order,
if and only if $B$ and $D$ lie on the opposite sides of $(AC)$.
If this is so, $\angle ABC$ and $\angle CDA$ have the same sign, and \ref{eq:inscribed-4angle} implies that $\measuredangle ABC+\measuredangle CDA
\equiv 
\pi$. 
Otherwise the angles have opposite signs, and  $\measuredangle ABC+\measuredangle CDA
\equiv 
0$.
\qeds





















The following lemma will be used several times in the sequel.



\begin{thm}[\abs]{Lemma}\label{lem:2angles1}
Let $ABC$ be a nondegenerate triangle.
Suppose that $M$ is the midpoint of $[AB]$ and $X$ is the reflection of $B$ across $M$.
Then 
\[\measuredangle BAX=\measuredangle ABC\]
and, moreover, $X$ lies with $B$ on the same side of $(AC)$.
In particular $X\notin (AC)$.
\end{thm}

\begin{wrapfigure}{r}{23mm}
\centering
\begin{lpic}[t(-6mm),b(0mm),r(0mm),l(0mm)]{pics/2sum1(1)}
\lbl[l]{16,2;$A$}
\lbl[b]{6,23;$B$}
\lbl[r]{0,2;$C$}
\lbl[b]{20,23;$X$}
\lbl[l]{11.5,12;$M$}
\end{lpic}
\end{wrapfigure} %???remove single arc at A

\parit{Proof.} 
Let $M$ be the midpoint of $[AB]$.
Choose $X\z\in (CM)$ distinct from $C$ so that $XM=CM$.


Note that the angles $CMB$ and $XMA$
are vertical;
in particular, 
$$\measuredangle CMB=\measuredangle XMA.\eqlbl{eq:CMB=XMA}$$
By construction, $AM\z=BM$ and $CM\z=XM$.
Therefore, 
$$\triangle CMB\cong \triangle XMA;$$ 
in particular $\measuredangle ABC\equiv\pm \measuredangle BAX$.
Since angles of $\triangle A M X$ have the same sign (\ref{thm:signs-of-triug}),
by \ref{eq:CMB=XMA} we cannot have a minus sign in the last equality; therefore
$$\measuredangle ABC\equiv\measuredangle BAX.$$

By construction, the line segments $[BM]$ and $[MX]$ do not cross the line $(AC)$.
Therefore the points $X$ and $B$ lie on the same side of $(AC)$ (see \ref{cor:half-plane});
in particular, $X\notin (AC)$.
\qeds

















The total sum of the sides is called \index{perimeter}\emph{perimeter} of the $n$-gon.
Since the sides have the same length, 
Namely, let us fix $r>0$.
Given a positive integer $n$, consider $\triangle AOB$
such that
$\measuredangle AOB=\tfrac{2\cdot\pi}{n}$ and $OA=OB=r$.
Set $x_n=AB$.
Note that $x_n$ is the side of а regular $n$-gon inscribed in the circle of radius $r$. %???$n$-gon is undefined
Therefore, the perimeter of the $n$-gon is $n\cdot x_n$.


If 
The sum
\[A_nA_1+A_1A_2+\dots+A_{n-1}A_n=n\cdot A_1A_2\]
is called perimeter of the $n$-gon.

The circumference of a circle in the Euclidean plane
can be defined as the limit of perimeters of regular $n$-gons inscribed in the circle as $n\to \infty$.
















Similarly $n$-gon is a sequence of $n$ distinct points;
if $n=5$ it is also called pentagon
and if $n=6$ --- hexagon.
The $n$ points in the sequence are called vertexes of $n$-gon.
Given an $n$-gon $A_1A_2\dots A_n$ the segments $[A_nA_1], [A_1A_2], \dots, [A_{n-1}A_n]$ are called sides of $n$-gon and the remaining segments $[A_iA_j]$ are called diagonals.















\parit{Proof.}
By \ref{thm:signs-of-triug}, 
we may assume that $\angle CAB$
and $\angle ABC$ are positive.

Let $M$ be the midpoint of $[AB]$.
Choose $C'\in (CM)$ distinct from $C$ so that $C'M=CM$.


Note that the angles $AMC$ and $BMC'$
are vertical;
in particular, 
$$\measuredangle AMC=\measuredangle BMC'.$$

By construction, $AM\z=BM$ and $CM\z=C'M$.
Therefore, 
$$\triangle AMC\cong \triangle BMC';$$ 
in particular, 
$$\measuredangle CAB=\pm\measuredangle C'BA.$$

\begin{wrapfigure}[10]{o}{37mm}
\begin{lpic}[t(4mm),b(0mm),r(0mm),l(2mm)]{pics/2sum(1)}
\lbl[lt]{22.5,1;$B$}
\lbl[br]{10.5,22;$A$}
\lbl[tr]{0,1;$C$}
\lbl[lb]{33,22;$C'$}
\lbl[b]{18,14;$M$}
\end{lpic}
\end{wrapfigure}

According to \ref{thm:signs-of-triug}, 
the angles $CAB$ and $C'BA$ have the same sign as $\angle AMC$ and $\angle BMC'$.
Therefore
$$\measuredangle CAB=\measuredangle C'BA.$$

In particular,
\begin{align*}
\measuredangle C'BC&\equiv \measuredangle C'BA+\measuredangle ABC\equiv
\\
&\equiv \measuredangle CAB+\measuredangle ABC.
\end{align*}

Finally, note that $C'$ and $A$ lie on the same side from $(CB)$.
Therefore, the angles $CAB$, $ABC$ and $C'BC$ are positive.
By Exercise~\ref{ex:PP(PN)}, the result follows.
\qeds

















\begin{thm}{Exercise}\label{ex:line-coord}
Let $(x_A,y_A)$ and $(x_B,y_B)$ be the coordinates of distinct points $A$ and $B$ in the Euclidean plane.
Show that the line $(AB)$ is the set of points with coordinates $(x,y)$ such that
\[(x-x_A)\cdot (y_B-y_A)=(y-y_A)\cdot (x_B-x_A).\]

\end{thm}


\parbf{Exercise~\ref{ex:line-coord}.}
Without loss of generality, we can assume that $x_A\z\ne x_B$;
otherwise switch $x$ and~$y$.

Let $\ell$ denotes the set of points with coordinates $(x,y)$ satisfying
\[(x-x_A)\cdot (y_B-y_A)=(y-y_A)\cdot (x_B-x_A).\]
Note that $A, B\in \ell$

Show that the map $\ell\to \mathbb{R}$ defined as
$(x,y)\mapsto \tfrac{AB}{|x_A-x_B|}\cdot x$ is an isometry;
that is, $\ell$ is a line.
It remains to apply Axiom~\ref{def:birkhoff-axioms:1}.













First note that 
if $\triangle A B C$ is degenerate, then the equality follows from Theorem~\ref{thm:straight-angle}.
Further we assume that $\triangle A B C$ is nondegenerate.

\begin{wrapfigure}{o}{43mm}
\begin{lpic}[t(3mm),b(0mm),r(0mm),l(0mm)]{pics/3-sum(1)}
\lbl[tr]{1,1;$A$}
\lbl[lt]{40,1;$B$}
\lbl[b]{23,25;$C$}
\lbl[lb]{7,3;{\small $\alpha$}}
\lbl[lb]{25.8,3;{\small $\alpha$}}
\lbl[rb]{34.5,2.5;{\small $\beta$}}
\lbl[t]{22.5,17;{\small $\gamma$}}
\lbl[rb]{15.5,2.5;{\small $\beta$}}
\lbl[b]{21,7;{\small $\pm\gamma$}}
\lbl[t]{20,0;$M$}
\lbl[lb]{32,13;$K$}
\lbl[rb]{11,13;$L$}
\end{lpic}
\end{wrapfigure}

Set 
\begin{align*}
\alpha&=\measuredangle C A B,
\\
\beta&=\measuredangle A B C,
\\
\gamma&=\measuredangle B C A.
\end{align*}
We need to prove that 
$$\alpha+\beta+\gamma\equiv\pi.
\eqlbl{eq:a+b+c}$$

Let $K$, $L$, $M$ be the midpoints of the sides $[B C]$, $[C A]$, $[A B]$ respectively.
By
Axiom~\ref{def:birkhoff-axioms:4},
\begin{align*}
\triangle A M L&\sim \triangle A B C,
&
\triangle M B K&\sim \triangle A B C,
&
\triangle L K C &\sim \triangle A B C
\intertext{and}
L M &=\tfrac12\cdot B C,
&
M K &=\tfrac12\cdot  C A,
&
 K L &= \tfrac12\cdot A B.
\end{align*}
According to the SSS condition (\ref{prop:sim}),
$\triangle K L M\sim \triangle ABC$. 
Thus,
$$\measuredangle M K L=\pm \alpha,
\quad 
\measuredangle K L M=\pm\beta,
\quad 
\measuredangle L M K=\pm\gamma.
\eqlbl{eq:pm-a-b-c}$$
According to \ref{thm:signs-of-triug}, the ``$+$'' or ``$-$'' sign is to be
the same in \ref{eq:pm-a-b-c}.

If in \ref{eq:pm-a-b-c} we have ``$+$'', then \ref{eq:a+b+c} follows since
$$\beta+\gamma+\alpha
\equiv
\measuredangle A M L + \measuredangle L M K + \measuredangle K M B
\equiv
\measuredangle A M B 
\equiv
\pi
$$

It remains to show that we cannot have ``$-$'' in \ref{eq:pm-a-b-c}.
If this is the case, then the same argument as above gives
$$\alpha+\beta-\gamma\equiv\pi.$$
The same way we get that
$$\alpha-\beta+\gamma\equiv\pi.$$
Adding the last two identities, we get that
$$2\cdot\alpha\equiv0.$$
Equivalently 
$\alpha\equiv\pi$ or $0$;
that is, $\triangle A B C$ is degenerate --- a contradiction.
\qeds
















\begin{thm}{Exercise}\label{ex:median-equidistant}
Prove that the line containing the median at one vertex in a triangle is equidistant from the remaining two vertexes. 
\end{thm}















\parit{``If'' part.}
Assume that \ref{eq:inscribed-angle} holds for some $P\notin \Gamma$.
Note that $\measuredangle X O Y\ne 0$. 
Therefore, $\measuredangle X P Y\ne 0$ nor $\pi$;
that is, $\triangle PXY$ is nondegenerate.

Let $\Gamma'$ be the circumcircle of $\triangle PXY$
and $O'$ be its circumcenter;
they exist by Exercise~\ref{ex:unique-cline}.
Note that $O'\ne O$.
From above, we have 
$$\measuredangle X O Y\equiv 2\cdot\measuredangle X P Y\equiv \measuredangle X O' Y.$$


Note that $OX=OY$ and $O'X=O'Y$.
By Theorem~\ref{thm:perp-bisect},
$(OO')$ is the perpendicular bisector to $[XY]$;
equivalently $X$ is the reflection of $Y$ in $(OO')$.
By Proposition~\ref{prop:reflection},

{

\begin{wrapfigure}{o}{40mm}
\begin{lpic}[t(-2mm),b(0mm),r(0mm),l(0mm)]{pics/inscribed-angle-new(1)}
\lbl[l]{39,20;$X$}
\lbl[rt]{15,1;$Y$}
\lbl[bl]{17,25;$O$}
\lbl[r]{21,16;$O'$}
\lbl[r]{8.5,27;$P$}
\lbl[w]{22,33;$\Gamma'$}
\lbl[w]{34,36;$\Gamma$}
\end{lpic}
\end{wrapfigure}
\vskip-4mm
\begin{align*}
\measuredangle X O O'&\equiv -\measuredangle Y O O',
\\
\measuredangle X O' O&\equiv -\measuredangle Y O' O.
\intertext{Therefore,} 
2\cdot \measuredangle X O O'
&\equiv\measuredangle X O O'+\measuredangle O' O Y
\equiv
\\
&\equiv \measuredangle X O Y\equiv 
\\
&\equiv\measuredangle X O' Y\equiv
\\
&\equiv\measuredangle X O' O+\measuredangle O O' Y
\\
&\equiv 2\cdot \measuredangle X O' O.
\end{align*}
}

Applying the transversal property (\ref{thm:parallel-2}), we get that
$(X O)\parallel (XO')$ --- a contradiction.
\qeds






















%%%%%%%%%%%%%%

Note that $OX=OY$ and $O'X=O'Y$.
By Theorem~\ref{thm:perp-bisect},
$(OO')$ is the perpendicular bisector to $[XY]$.

By ... $\measuredangle OYX=\measuredangle YXO$.
Applying the theorem on sum on the sum of angles of triangle (\ref{thm:3sum}), we get that 
\[2\cdot \measuredangle OYX\equiv\pi -\measuredangle X O Y\equiv \pi -2\cdot\measuredangle X P Y\]

The same way we get that 
\[2\cdot \measuredangle O'YX\equiv \pi -2\cdot\measuredangle X P Y.\]
In particular 
\[2\cdot \measuredangle O'YX\equiv2\cdot \measuredangle OYX;\]
that is, the line $(OY)$ coincides with $(O'Y)$.
Since both 


%%%%%%%%%%%%%%



















Therefore
\begin{align*}
\frac{PQ\cdot  P'Q'+PQ'\cdot  P'Q}{PP'\cdot QQ'}
&=\frac{4+(\tfrac1a+a)^2}{(\tfrac1a-a)^2}=
\\
&=\frac{1+ 6\cdot a^2+a^4}{(1-a^2)^2}.
\end{align*}

On the other hand,
\[PQ_h=\ln \frac{(1+a)^2}{(1-a)^2}.\]

Therefore 
\begin{align*}\cosh PQ_h &=\tfrac12\cdot\left(e^{PQ_h}+e^{-PQ_h}\right)=
\\
&=\tfrac12\cdot\left(\frac{(1+a)^2}{(1-a)^2}+\frac{(1-a)^2}{(1+a)^2}\right)=
\\
&=\tfrac12\cdot\frac{(1+a)^4+(1-a)^4}{(1-a^2)^2}=
\\
&=\frac{1+6\cdot a^2 +a^4}{(1-a^2)^2}.
\end{align*}
Hence part \textit{(\ref{ex:coshcosh})} follows.

Similarly,
\begin{align*}
\tanh[\tfrac12\cdot PQ_h] &=\frac{e^{PQ_h}-1}{e^{PQ_h}+1}=
\\
&=\frac{\frac{(1+a)^2}{(1-a)^2}-1}{\frac{(1+a)^2}{(1-a)^2}+1}=
\\
&=\frac{2\cdot a}{1+a^2}
\end{align*}

On the other hand
\begin{align*}
\sqrt{\frac{PQ\cdot  P'Q'}{PQ'\cdot P'Q}}
&=\sqrt{\frac{2\cdot a\cdot \frac 2a}{(\tfrac1a-a)^2}}=
\\
&=\frac{2\cdot a}{1+a^2}
\end{align*}
Hence the part \textit{(\ref{ex:coshtanh})} follows.

























Similarly,
\begin{align*}
\tanh PQ_h &=\frac{e^{2\cdot PQ_h}-1}{e^{2\cdot PQ_h}+1}=
\\
&=\frac{\frac{(1+a)^2}{(1-a)^2}-\frac{(1-a)^2}{(1+a)^2}}{\frac{(1+a)^2}{(1-a)^2}+\frac{(1-a)^2}{(1+a)^2}}=
\\
&=\frac{2\cdot a}{1+a^2}
\end{align*}



On the other hand
\begin{align*}
\sqrt{\frac{PQ\cdot  P'Q'}{PQ'\cdot P'Q}}
&=\sqrt{\frac{2\cdot a\cdot \frac 2a}{(\tfrac1a-a)^2}}=
\\
&=\frac{2\cdot a}{1+a^2}
\end{align*}






Fix an h-triangle $XYZ$.
Denote by $A$, $B$ and $C$ the ideal points of the h-half-lines
$[XY)_h$, $[YZ)_h$ and~$[ZX)_h$.

\begin{wrapfigure}[11]{o}{43mm}
\begin{lpic}[t(-3mm),b(4mm),r(0mm),l(0mm)]{pics/h-triangle-absolute(1)}
\lbl[tl]{25,23;{\small $X$}}
\lbl[r]{21,19;{\small $Y$}}
\lbl[b]{20,25;{\small $Z$}}
\lbl[tr]{17,0;$A$}
\lbl[br]{8,38;$B$}
\lbl[bl]{41,29;$C$}
\end{lpic}
\end{wrapfigure}

Consider the \index{triangle!ideal triangle}\emph{ideal triangle} $ABC$;
its \emph{sides} are the three pairwise asymptotically parallel lines with ideal points $A$, $B$ and $C$.

It should be clear that the inradius of the ideal triangle $ABC$
is bigger than the inradius of $\triangle_hXYZ$.


Applying an inversion if necessary,
we can assume that the h-incenter ($O$)
of the ideal triangle is the center of the absolute (see \ref{thm:main-observ}). 
Therefore, without loss of generality, we may assume 
$$\measuredangle AOB=\measuredangle BOC=\measuredangle COA=\tfrac23\cdot\pi.$$

It remains to find the inradius.
Denote by $Q$ the foot point of $O$ on~$(AB)_h$.
Then $OQ_h$ is the inradius.
Note that the angle of parallelism of $(AB)_h$ at $O$ is equal to $\tfrac\pi3$.

{

\begin{wrapfigure}[7]{o}{44mm}
\begin{lpic}[t(-5mm),b(-5mm),r(0mm),l(0mm)]{pics/absolute-triangle(1)}
\lbl[tl]{32,3;$A$}
\lbl[bl]{32,40;$B$}
\lbl[r]{0,20;$C$}
\lbl[r]{20.5,21;{\small $O$}}
\lbl[l]{29,20;$Q$}
\end{lpic}
\end{wrapfigure}

By Proposition~\ref{prop:angle-parallelism},
\begin{align*}
OQ_h&=\tfrac12\cdot\ln\frac{1+\cos\frac{\pi}{3}}{1-\cos\frac{\pi}{3}}=
\\
&=\tfrac12\cdot\ln\frac{1+\tfrac12}{1-\tfrac12}=
\\
&=\tfrac12\cdot\ln 3.
\end{align*}
\qedsf

%\begin{thm}{Exercise}\label{ex:right-h-triangle} Find the optimal upper for the inradius of right h-triangles. \end{thm}

















\begin{thm}{Exercise}\label{ex:C-cross-ratio}
Show that 
\[\tanh[d_h(z,w)]=\left|\frac{z-w}{1-z\cdot \bar w}\right|,\]
where $\tanh$ denotes the \emph{typerbolic tangent} which is defined as the ratio
\[\tanh x=\frac{\sinh x}{\cosh x}=\frac{e^x-e^{-x}}{e^x+e^{-x}}.\]
\end{thm}
























\begin{thm}{Exercise}\label{ex:pyth-s}
Assume that $N$ is the north pole, $\triangle_s NBC$ has right angle at $C$ and  lies completely in the north hemisphere.
Let $\triangle NB'C'$ be the image of $\triangle_s NBC$ under the central projection.

\begin{center}
\begin{lpic}[t(-3mm),b(-0mm),r(0mm),l(0mm)]{pics/centrl-proj(1)}
\lbl[rt]{34.5,46;$N$}
\lbl[r]{41,29;$B$}
\lbl[rt]{54,32;$C$}
\lbl[bw]{46,37;$B'$}
\lbl[lbw]{56.5,39.5;$C'$}
\lbl[rt]{34.5,12.5;$O$}
\end{lpic}
\end{center}


Observe that $\triangle NB'C'$ has a right angle at~$C'$.
Set 
\begin{align*}
 a&=BC_s, &b&=CN_s, &c&=NB_s,\\
 s&=B'C',&t&=C'N,&u&=NB'.
\intertext{Show that}
s&=\tfrac{\tan a}{\cos b},
&
t&=\tan b,
&
u&=\tan c.
\end{align*}

Use these identities together with the Euclidean Pythagorean theorem
$u^2=s^2+t^2$
for $\triangle NB'C'$ to prove the spherical Pythagorean theorem 
\[\cos c=\cos a\cdot\cos b\]
for $\triangle_s NBC$.
\end{thm}


\parbf{Exercise~\ref{ex:pyth-s}.}
Denote by $O$ the center of the sphere.

To prove the identities
\begin{align*}
s&=\tfrac{\tan a}{\cos b},
&
t&=\tan b,
&
u&=\tan c
\end{align*}
consider the sections by the planes containing the following triple of points $(NBO)$, $(BCO)$ and $(CNO)$.

The remaining part of exercise is algebraic manipulations similar to the one given in the proof of Theorem~\ref{thm:pyth-h}.

















\section*{Hyperbolic Pythagorean theorem}
\addtocontents{toc}{Hyperbolic Pythagorean theorem.}

In this section we will give another proof of the Hyperbolic Pythagorean theorem (\ref{thm:pyth-h-poincare}) using the projective model. 

First let us recall the statement.
Assume that $\triangle_hACB$ is a triangle in h-plane with right angle at~$C$.
Set $a=BC_h$, $b=CA_h$ and $c=AB_h$.
Then
$$\cosh c=\cosh a\cdot\cosh b,
\eqlbl{eq:pyth-h}$$
where $\cosh$ denotes \index{ch@$\cosh$}\index{hyperbolic cosine}\emph{hyperbolic cosine};
that is, the function defined by
$$\cosh x\df \tfrac{e^x+e^{-x}}2.$$ 

\begin{wrapfigure}[10]{o}{24mm}
\begin{lpic}[t(-3mm),b(-0mm),r(0mm),l(0mm)]{pics/h-pyth-klein(1)}
\lbl[br]{3,23;$A$}
\lbl[lb]{15,28.5;$B$}
\lbl[tl]{15,21;$C$}
\lbl[l]{15,25;$s$}
\lbl[t]{8,20;$t$}
\lbl[b]{8,26,37;$u$}
\lbl[bl]{15,39;$X$}
\lbl[tl]{15,4;$Y$}
\end{lpic}
\end{wrapfigure}

\parit{Proof.}
We will use projective model of the h-plane with a unit circle as the absolute.

We can assume that $A$ is the center of the absolute.
Therefore, both $\angle_h ACB$ and $\angle ACB$ are right.

Set 
$s=BC$, $t =CA$, $u= AB$.
According to the Euclidean Pythagorean theorem (\ref{thm:pyth}),
$$u^2=s^2+t^2.$$
Note that
\[
b=\tfrac12\cdot\ln\frac{1+t}{1-t};\]
therefore
\[
\begin{aligned}
\cosh b&=
\frac{\left(\frac{1+t}{1-t}\right)^{\frac12}+\left(\frac{1-t}{1+t}\right)^{\frac12}}2=
\\
&=\frac1{\sqrt{1-t^2}}.
\end{aligned}
\eqlbl{cosh(b)}
\]
The same way we get that
\[
c=\tfrac12\cdot\ln\frac{1+u}{1-u}
\]
and
\[\begin{aligned}\cosh c&=\frac{\left(\frac{1+u}{1-u}\right)^{\frac12}+\left(\frac{1-u}{1+u}\right)^{\frac12}}2=
\\
&=\frac1{\sqrt{1-u^2}}.
\end{aligned}
\eqlbl{cosh(c)}\]

Let $X$ and $Y$ are the ideal points of~$(BC)_h$.
Applying the Pythagorean theorem (\ref{thm:pyth}) again,
we get that
$$CX=CY=\sqrt{1-t^2}.$$
Therefore, 
\[
a
=
\tfrac12\cdot\ln\frac{\sqrt{1-t^2}+s}{\sqrt{1-t^2}-s},\]
and
\[
\begin{aligned}
\cosh a&=\frac
{\left(\frac{\sqrt{1-t^2}+s}{\sqrt{1-t^2}-s}\right)^{\frac12}
+
\left(\frac{\sqrt{1-t^2}-s}{\sqrt{1-t^2}+s}\right)^{\frac12}}2=
\\
&=\frac{\sqrt{1-t^2}}{\sqrt{1-t^2-s^2}}=
\\
&=\frac{\sqrt{1-t^2}}{\sqrt{1-u^2}}.
\end{aligned}
\eqlbl{cosh(a)}
\]

Finally, note that \ref{cosh(b)}+\ref{cosh(c)}+\ref{cosh(a)} imply \ref{eq:pyth-h}.
\qedsf


















\begin{thm}{Exercise}\label{ex:right-h-triangle}
Let $ABC$ be a right h-triangle with the right angle at $C$.
Show that the h-distance from $C$ to $(AB)_h$ is smaller than $1$.
Conclude that $AB_h+2>AC_h+BC_h$.
\end{thm}


\parbf{Exercise~\ref{ex:right-h-triangle}.}
Let $\phi$ be the angle of parallelism of $C$ to~$(AB)_h$.
Notice that $\phi>\tfrac\pi2$.
Denote by $D$ the h-foot point of $C$ on $(AB)_h$.
Show $CD_h<1$ using Proposition~\ref{prop:angle-parallelism}.
To prove the last part, apply the triangle inequalities
\[AC_h\le AD_h+DC_h\quad\text{and}\quad BC_h\le BD_h+DC_h.\]

\parit{Comment.}
The optimal bound is $AB_h+\ln 2>AC_h+BC_h$;
it can be deduced from the Hyperbolic Pythagorean theorem \ref{thm:pyth-h}.


















{

\begin{wrapfigure}{r}{27mm}
\begin{lpic}[t(-0mm),b(0mm),r(0mm),l(-0mm)]{pics/alt-two(1)}
\lbl[rt]{1,1;$A$}
\lbl[lt]{24,1;$B$}
\lbl[b]{15,24.5;$C$}
\lbl[lb]{22,10;$A'$}
\lbl[rb]{8,12;$B'$}
\end{lpic}
\end{wrapfigure}

\begin{thm}{Exercise}\label{ex:sim+foots}
Let $\triangle A B C$ be an \index{acute!triangle}\emph{acute} triangle; that is, all its angles are acute. 
Denote by $A'$ the foot point of $A$ on $(BC)$ and
by $B'$ the foot point of $B$ on~$(AC)$.
Prove that $\triangle A'B'C\sim \triangle ABC$.
\end{thm}

}

\parbf{Exercise~\ref{ex:sim+foots}.} 
First show that $\triangle AA'C\sim \triangle BB'C$.













\begin{wrapfigure}{o}{34mm}
\begin{lpic}[t(-4mm),b(-3mm),r(0mm),l(0mm)]{pics/PQY-3(1)}
\lbl[b]{27,13;$P$}
\lbl[br]{14.5,12.3;$Q$}
\lbl[b]{4,13;$R$}
\lbl[]{25,20;$\mathcal{H}_+$}
\lbl[]{25,4;$\mathcal{H}_-$}
\end{lpic}
\end{wrapfigure}

\parit{Proof.}
Let us denote by $\mathcal{H}_+$ (correspondingly $\mathcal{H}_-$) 
the set of points $X$ in the plane such that
$\angle PQX$ is positive (correspondingly negative).

According to Theorem~\ref{thm:straight-angle},
$X\notin (PQ)$ if and only if 
$\measuredangle PQX\z\ne 0$ nor~$\pi$.
Therefore, $\mathcal{H}_+$ and $\mathcal{H}_-$
give the unique subdivision of the complement of $(PQ)$ which satisfies the property \textit{(\ref{prop:half-plane:angle})}.

\medskip

Let us show that this subdivision depends only on the line $(PQ)$;
that is, if $(P'Q')=(PQ)$ and $X,Y\notin (PQ)$,
then the angles $PQX$ and $PQY$ have the same sign
if and only if the angles $P'Q'X$ and $P'Q'Y$ have the same sign.

Fix a point $R\in(PQ)$ such that $Q$ lies between $P$ and $R$. 
By Lemma~\ref{lem:straight-sign}, for any $X\notin(PQ)$, the angles $PQX$ and $RQX$ have opposite signs.
It follows that, for any $X,Y\notin(PQ)$, the angles $PQX$ and $PQY$ have the same signs if 
and only if $\angle RQX$ and $\angle RQY$ have the same signs.
In other words, flipping the half-line $[QP)$ to $[QR)$ in the above construction does not change the subdivision.

Applying such flippings we can assume that $[PQ)\subset [P'Q')$
and therefore we can assume that $P=P'$.
It remains to apply Lemma \ref{lem:signs}.

\medskip

Assume $[XY]$ intersects~$(PQ)$.
Since the subdivision depends only on the line $(PQ)$, 
we can assume that $Q\in[XY]$.
In this case, by Lemma~\ref{lem:straight-sign},
the angles $PQX$ and $PQY$ have opposite signs.


Now assume $[XY]$ does not intersect~$(PQ)$.
In this case, by Lemma~\ref{lem:signsXY},
$\angle PQX$ and $\angle PQY$ have the same sign.
\qeds



















\section*{Method of complex coordinates}

\begin{thm}{Problem}
Assume that  $\square ABCD$, $\square ABB'A'$, $\square BCC'B'$, $\square CDD'C'$ and $\square DAA'D'$ are inscribed.
Show that $\square A'B'C'D'$ is inscribed.
\end{thm}

{

%\begin{center}
\begin{wrapfigure}{o}{44mm}
\begin{lpic}[t(-3mm),b(-0mm),r(0mm),l(0mm)]{pics/6-inscribed-quadrilaterals(1)}
\lbl[r]{10,35;$A$}
\lbl[tl]{37,25;$B$}
\lbl[lt]{25,5;$C$}
\lbl[br]{5.5,14;$D$}
\lbl[bl]{16,30;$A'$}
\lbl[tl]{30,22;$B'$}
\lbl[lw]{24.5,12;$C'$}
\lbl[bw]{11,18.5;$D'$}
\end{lpic}
\end{wrapfigure}
%\end{center}

Let us present a solution of this problem using the so called \emph{method of complex coordinates};
namely we will apply Theorem~\ref{thm:inscribed-quadrilateral-C} few times.
An alternative solution can be build on Theorem~\ref{thm:inscribed-quadrilateral}.

\parit{Solution.}
Denote by $a$, $b$, $c$, $d$, $a'$, $b'$, $c'$ and $d'$ the complex coordinates of 
$A$, $B$, $C$, $D$, $A'$, $B'$, $C'$ and $D'$ correspondingly.
Consider the following complex cross ratios:

}
\begin{align*}
\alpha&=\frac{(a-b)\cdot(b'-a')}{(a-a')\cdot(b'-b)},
&
\beta&=\frac{(b-c)\cdot(c'-b')}{(b-b')\cdot(c'-c)},
\\
\gamma&=\frac{(c-d)\cdot(d'-c')}{(c-c')\cdot(d'-d)},
&
\delta&=\frac{(d-a)\cdot(a'-d')}{(d-d')\cdot(a'-a)},
\\
\epsilon&=\frac{(a-b)\cdot(c-d)}{(a-d)\cdot(c-b)},
&
\epsilon'&=\frac{(a'-b')\cdot(c'-d')}{(a'-d')\cdot(c'-b')}.
\end{align*}
Note that
\[\epsilon'=\frac{\alpha\cdot \gamma}{\beta\cdot \delta\cdot\epsilon}.\eqlbl{eq:eps'}\]

Since $\square ABCD$, $\square ABB'A'$, $\square BCC'B'$, $\square CDD'C'$ and $\square DAA'D'$ are inscribed, Theorem~\ref{thm:inscribed-quadrilateral-C} implies that the values $\alpha$, $\beta$, $\gamma$, $\delta$ and $\epsilon$ are real.
By~\ref{eq:eps'}, $\epsilon'$ is also real.
Applying the theorem again, we get that $\square A'B'C'D'$ is inscribed.
\qeds

















\parbf{Exercise~\ref{ex:angle-altitude}.}
Show that $\triangle ABB'\sim\triangle ACC'$.
Use it to show that $\triangle AB'C'\z\sim\triangle ABC$.
Conclude that $\measuredangle ABC\equiv   \pm\measuredangle C'B'A$.

Finally observe that $\measuredangle BAC\equiv -\measuredangle B'AC'$ and use \ref{thm:signs-of-triug}.


\parbf{Exercise~\ref{ex:orthocener-bisects}.}
Observe that $2\cdot A'H=A'A$.
Apply AA similarity condition to show that $\triangle AA'C\sim\triangle BB'C \sim\triangle BA'H$  and use it.











\section*{Method of similar triangles}
\addtocontents{toc}{Method of similar triangles.}

The proof of the Pythagorean theorem given in the previous section is an example of application of \emph{method of similar triangles}.
To applying this method, we have to search for pairs of similar triangles and then use the proportionality of their sides and/or equalities of their angle.

The following exercises can be solved by this method.

\begin{thm}{Exercise}
Let $ABC$ be acute triangle,
$B'$ and $C'$ be the foot points of $B$ and $C$ on the sides $[AC]$ and ${ 
\end{thm}




Starting from the Pythagorean theorem we used this method several times.
The following exercises can be solved by this method.

\begin{thm}{Exercise}\label{ex:angle-altitude}
Let $ABC$ be acute triangle,
$B'$ and $C'$ be the foot points of altitudes from the vertexes $B$ and $C$ correspondingly.
Show that 
\[\measuredangle ABC\equiv   \measuredangle C'B'A.\]

\end{thm}

\begin{thm}{Exercise}\label{ex:orthocener-bisects}
Assume that the orthocener $H$ of an acute triangle $ABC$ bisects its altitude $AA'$.
Show that 
\[A'A^2=2\cdot BA'\cdot A'C.\]

\end{thm}



\section*{Euclid's proof of the Pythagorean theorem}
\addtocontents{toc}{Euclid's proof of the Pythagorean theorem.}

Let $\triangle ABC$ be a triangle with right angle at $C$.
By the Pythagorean theorem can be formulated as
\[AB^2=BC^2+CA^2.
\eqlbl{eq:pyth-area}\]

Let us construct squares $\square ABB'A'$, $\square BCC'B'$ 
on the sides of $\triangle ABC$,and $\square CAA'C'$
in such a way that they lie outside of the triangle.
By Proposition~\ref{prop:area-parallelogram},
the equality \ref{eq:pyth-area} is equivalent to 
\[\area\solidsquare ABB'A'
=
\area\solidsquare BCC'B'
+
\area\solidsquare CAA'C'.
\eqlbl{eq:pyth+area}\]

\begin{wrapfigure}{r}{32 mm}
\begin{lpic}[draft,t(-0mm),b(0mm),r(0mm),l(0mm)]{pics/euclid-pythagor(1)}
\lbl[b]{6.5,20.5;$A$}
\lbl[lt]{27,0;$B$}
\lbl[rt]{1,0;$C$}
\lbl[b]{6.5,20.5;$A$}
\lbl[lt]{27,0;$B$}
\lbl[rt]{1,0;$C$}
\lbl[t]{12,0;$D$}
\end{lpic}
\end{wrapfigure}
 
In the Elements,
Pythagorean theorem was formulated using the equality \ref{eq:pyth+area};
let us present the proof of this identity from the Elements,.

\parit{Euclid's proof}
Note that 


Note that 















The same holds in the sphere and the hyperbolic plane.


Now assume we want to extend area functional to all sets keeping all the 
conditions in Theorem~\ref{thm:area} except uniqueness.

It turns on the unit sphere $\Sigma$ one can find a set
$\mathcal{A}$ such that 5 conguent copies of $\mathcal{A}$
cover whole $\Sigma$ and there are 6 disjoint conguent copies of $\mathcal{A}$ in $\Sigma$.

This example was constructed by Hausdorff in \cite{hausdorff};
it is quite conterintutive 

It follows that one cannot define area of $\mathcal{A}$.
Indeed if $s=\area\mathcal{A}$,
the conditions in Theorem~\ref{thm:area} would imply 
\[6\cdot s\le \area \Sigma\le 5\cdot s,\]
a contradiction. 


Similar examples show that one cannot define area for all bounded sets in the hyperbolic plane.
A set in the plane is called \index{bounded set}\emph{bounded} if it lies inside a circle.

After these examples it might be surprising to learn that
in the Euclidean plane one can define area for all bounded sets
which satisfies all the conditions in the Theorem~\ref{thm:area} except uniqueness.
In case you are interested in these results, we suggest to read ...


















\section*{Area of disc}
\addtocontents{toc}{Area of disc.}

A \emph{disc} is the set 
formed points inside and on a given circle.

The area .

For example one can define the area of any disc;
that is the set formed by circle and the points inside it.
Let us try to make sense of it.

Fix a large positive integer $n$.
Inscrive in $\Gamma$ the regular $n$-gon $\bm{A}=A_1\dots A_n$.
Surcumscribe $\Gamma$ by a regular $n$-gon $\bm{B}=B_1\dots B_n$.
Note that 
\[\bar{\bm{A}}\subset D\subset\bar{\bm{B}}.\]

It is reasonable to assume that area of $D$ satisfies monotonicity property;
for polygons it is proved in ???.
In this case 
\[\area\bm{A}\le\area D\le \area\bm{B}.\]

One the other hand taking $n$ large enough, 
the difference $\area\bm{B}-\area\bm{A}$ can be made arbitrary small.
Indeed, straightforward computations show that
$\area\bm{A}=\cos\tfrac\pi n\cdot\area\bm{B}$. 
Since $\cos\tfrac\pi n\ge 1-\tfrac2n $ and $\area \bm{A}\le 4$,
we get that
\[\area\bm{B}-\area\bm{A}\le \tfrac8n.\]










\section*{Quadrable sets}
\addtocontents{toc}{Quadrable  sets.}

As we showed in the previous section,
one can extend the notion of area to the sets in the plane which can be squized between two bodies of polygons with arbitrary close area.
The class of such sets is called quadrable sets;
in this section we define them formally.

Given a subset  $\mathcal{S}$ in the plane
set
\[\overline\area\,\mathcal{S}=\inf_{\bar{\bm{B}}\supset \mathcal{S}}\{\area\bm{B}\};\]
that is $\bar a=\overline\area\,\mathcal{S}$ is the maximal number such that $\bar a\le \area\bm{B}$ for any polygon $\bm{B}$ such that $\bar{\bm{B}}\supset \mathcal{S}$.

If $\mathcal{S}$ is unbounded
then there is no polygon $\bm{B}$ such that $\bar{\bm{B}}\supset \mathcal{S}$.
In this case we assume $\overline\area\,\mathcal{S}=\infty$.

In a similar way let us define lower area 
\[\underline\area\,\mathcal{S}=\sup_{\bar{\bm{A}}\subset \mathcal{S}}\{\area\bm{A}\};\]

Note that for any set 
\[\underline\area\,\mathcal{S}\le\overline\area\,\mathcal{S}.\]
Indeed, assume contrary. Then there is a real number $a$ such that 
\[\underline\area\,\mathcal{S}>a>\overline\area\,\mathcal{S}.\]
By definition of $\underline\area$ and $\overline\area$ there are 
polygonal sets $\mathcal{P}$ and $\mathcal{Q}$ 
such that $\area\mathcal{P}>a$, $\area \mathcal{Q}<a$
and $\mathcal{P}\subset \mathcal{S}\subset\mathcal{Q}$.
In particular $\mathcal{P}\subset \mathcal{Q}$ 
and $\area\mathcal{P}>\area \mathcal{Q}$;
the latter contradicts ???

If
\[\underline\area\,\mathcal{S}=\overline\area\,\mathcal{S}\]
then the set $\mathcal{S}$ is called quadrable;
in this case we define 
\[\area\mathcal{S}\df\underline\area\,\mathcal{S}=\overline\area\,\mathcal{S}\]

The argument above shows that for any disc is a quadrable set.

Let $\mathcal S$ be a set in the plane.
We say that $\mathcal S$ is squareble if 
given $\epsilon>0$ there are collection of disjoint polygons $\bm{A}_1,\dots, \bm{A}_n$ and $\bm{B}_1,\dots, \bm{B}_k$
such that
\[\bar{\bm{A}}_1\cup\dots\cup\bar{\bm{A}}_n\subset\mathcal S\subset \bar{\bm{B}}_1\cup\dots\cup\bar{\bm{A}}_k\]
and 
\[\area\bm{A}_1+\dots+\area\bm{A}_n
>
\area\bm{B}_1+\dots+\area\bm{B}_k-\epsilon.\]

\begin{thm}{Exercse}
Show that any line segment is a quadrable set with vanishing area.
\end{thm}

\begin{thm}{Exercse}
Show that any circle is a quadrable set with vanishing area.
\end{thm}

A plane set $\mathcal{S}$
is called \emph{convex} if for any two points $X,Y\in \mathcal{S}$
we have $[XY]\subset \mathcal{S}$

\begin{thm}{Advanced exercse}
Show that any bounded convex set is quadrable.
\end{thm}



Informally squeezed


\section*{Area of triangle}
\addtocontents{toc}{Area  of triangle.}


A function $F$ which returns a real number 
for any solid triangle is called \emph{area functional} if it satisfies the followng conditions.

\begin{enumerate}
\item For any triangle $\triangle ABC$ we have $F(\triangle ABC)\ge 0$ and 
if  $\triangle ABC$ nondegenerate then $F(\triangle ABC)>0$.
\item If $\triangle ABC\cong\triangle A'B'C'$ 
 then $F(\triangle ABC)=F(\triangle A'B'C')$
\item For any triangle $ \triangle ABC$ and point $D$ between $B$ and $C$, we have
$$F(\triangle ABC)=F(\triangle ABD)+F(\triangle ADC).$$
\end{enumerate}

The proof of the following proposition is quite nontrivial.

\begin{thm}{Proposition}
There is an area functional. 

Moreover it is unique up to multiplication by a positive constant. 
That is, if $F$ and $F'$ are area functionals then there is a positive real number $k$ such that 
\[F'(\triangle ABC)=k\cdot F(\triangle ABC)\]
for any triangle $\triangle ABC$.
\end{thm}

Let $\triangle ABC$ be a right triagle with unit length
and $F$ be an area functional such that $F(\triangle ABC)=\tfrac12$.
Then for any triangle $\triangle XYZ$ the value $a=F(\triangle XYZ)$ is called \emph{area} of $\triangle XYZ$;
brifly $a=\area(\triangle XYZ)$.















\section*{Subdivisions and area}
\addtocontents{toc}{Subdivisions and area.}

\begin{thm}{Definition}
Let $\bm{A}$, $\bm{B}_1,\dots,\bm{B}_k$
be a finite collection of polygons.
We say tath $\bm{A}$ 
is subdivided into $\bm{B}_1,\dots,\bm{B}_k$
if 
\[\bar{\bm{A}}=\bar{\bm{B}}_1\cup\dots\cup\bar{\bm{B}}_k\]
and 
\[\mathring{\bm{B}}_i\cap\mathring{\bm{B}}_j=\emptyset\]
for any $i\ne j$.
\end{thm}

A function $F$ which returns a nondegenerate real value for any poygon 
is called area functional if it satisfies the following conditions.

\begin{enumerate}
\item If  two polygons $\bm{A}$ and $\bm{A}'$ have congruent bodies (that is $\bar{\bm{A}}\cong \bar{\bm{A}}'$)
then 
\[F(\bm{A})=F(\bm{A}')\]
\item If a polygon $\bm{A}$ is subdivided into polygons $\bm{B}_1, \dots,\bm{B}_n$
then 
\[F(\bm{A})=F(\bm{B}_1)+\dots+F(\bm{B}_n)\]
\item If $\bm{B}$ is a square with unit side then 
\[F(\bm{B})=1.\]
\end{enumerate}

The proof of the following theorem is long and not at all simple.

\begin{thm}{Proposition}
There is unique area functional.
\end{thm}

From now on we will denote the area of polygon $\bm{A}$ as $\area \bm{A}$.

Use the definition of area to prove the following two statements.


\begin{thm}{Exercise}
Assume $\square ABCD$ is a parallelogram.
Show that 
\[\area\triangle ABC=\area\triangle BCD.\]

\end{thm}

\begin{thm}{Exercise}
Let $A'$ be the medpoint of side $[BC]$ of the triangle $\triangle ABC$.
Show that 
\[\area\triangle AA'B=\area\triangle AA'C.\]

\end{thm}



















\section*{Two propositions}
\addtocontents{toc}{Two propositions.}

\begin{thm}{Proposition}\label{prop:monotonicity-of-area}
Assume $\bm{A}$ and $\bm{B}$ are two polygons such that $\bar{\bm{A}}\supset \bar{\bm{B}}$.
Then $\area \bm{A}\ge \area \bm{B}$.
\end{thm}

To prove the statement it is sufficient to subdivide $\bm{A}$ into collction of polygons which include $\bm{B}$, say $\bm{B}$, $R_1,\dots,R_n$.
Then by ???
\[\area \bm{A}=\area \bm{B}+\area R_1+\dots +\area R_n.\]
The statement follows since $\area R_i\ge 0$.

Two construct the nesesury subdivision, extend all the sides of $\bm{B}$.
These lines cut $\bm{A}$ into polygons.
Denote by $R_1,\dots,R_n$ those of these polygons which do not lie inside $\bar{\bm{B}}$.
Note that $\bm{B}$, $R_1,\dots,R_n$ form a subdivision of $\bm{A}$.


\begin{thm}{Proposition}\label{prop:1/n}
If $\bm{B}_n$ is a square with side $\tfrac1n$ then 
\[\area \bm{B}_n=\tfrac1{n^2}.\]

\end{thm}

\parit{Proof.}
Set $a_n=\area \bm{B}_n$.
Recall that according to ???, $a_1=1$.

Note that the unit square $\bm{B}_1$ can be divided into $n^2$ squires congruent to $\bm{B}_n$.
Therefore
\[n^2\cdot a_n=a_1=1.\]
Hence the result.
\qeds




\section*{Polygons}
\addtocontents{toc}{Polygons.}

A \emph{polygon} is a finite sequence of distrinct points in the plane, say
\[\bm{A} =A_1A_2\dots A_n.\]
The points $A_i$ in the sequence are called \emph{vertices} of the polygon $\bm{A}$.

A polygon with three vertices is called \emph{triangle}
polygon with four vertices is called \emph{quadrilateral}
and a polygon with $n$ vertices is called also \emph{$n$-gon}.

\begin{wrapfigure}{o}{28mm}
\begin{lpic}[t(-4mm),b(0mm),r(0mm),l(0mm)]{pics/polygon(1)}
\lbl[tr]{6,1;$A_1$}
\lbl[tl]{16,1;$A_2$}
\lbl[tl]{17,8;$A_3$}
\lbl[b]{25,17,-75;$\dots$}
\lbl[b]{2,22;$A_n$}
\lbl[r]{22.5,15.5;$\partial\bm{A}\rightarrow$}
\lbl[b]{15.5,17.5;$\uparrow$}
\lbl[rb]{20.5,10.5;$\searrow$}
\lbl[b]{11,22,10;side}
\lbl[b]{8,13,-50;diagonal}
\end{lpic}
\end{wrapfigure}

The segments $[A_nA_1],[A_1A_2],\dots,[A_{n-1} A_n]$
are called \emph{sides} and the remaining segments $[A_iA_j]$ are called \emph{diagonals} of the polygon $\bm{A}$.

The union of all the sides of a polygon $\bm{A}$ is called its contour,
and denoted by $\partial \bm{A}$.

If any two sides of the polygon 
intersect only at the common end 
then the polygon is called  \emph{simple}\index{simple polygon}.

\section*{Interior and body}
\addtocontents{toc}{Interior and body.}

It is intuitively clear that 
the complement to the contour of a simple polygon
has exactly two components 
one is \emph{bounded} 
and the other is \emph{unbounded}. 

Let us make this statement more presise.
First let us define bounded and unbounded sets.

\begin{thm}{Definition}
A set $\mathcal{S}$ in the plane 
is called \emph{bounded} 
if for some (and therefore any) point $Z$ 
there real number $r$ such that $ZX<r$ for any $X\in \mathcal{S}$.

If there is there is no such number $r$, 
then the set is called \emph{unbounded}.
\end{thm}

Now we need to explain the meaning of word \emph{component} above. 

Fix a polygon $\bm{A}$.
We say that two points $X,Y\notin \partial \bm{A}$,
lie
on the same side from $\partial\bm{A}$ (briefly $X\leftrightarrow Y$)
if there is a finite sequence of points
\[X=X_0, X_1,\dots, X_k=Y\]
such that non of the segments $[X_{i-1}X_i]$ intersects $\partial\bm{A}$.
(It means that one can get from $X$ to $Y$ without crossing $\partial\bm{A}$.)

Note that ``$\leftrightarrow$'' is an \emph{equivalent relation}.
That is, 
for any three points $X,Y,Z\notin\partial \bm{A}$,
we have 
(1) $X\leftrightarrow X$,
(2) if $X\leftrightarrow Y$
then  $Y\leftrightarrow X$
and 
(3) if $X\leftrightarrow Y$ 
and $Y\leftrightarrow Z$ 
then  $X\leftrightarrow Z$.

The set of points which lie one the same side with a given one (and therefore with each other) is called \emph{component}.

\begin{thm}{Proposition-Definition}
Let $\bm{A}$ be a simple polygon.
Then the complement of $\partial\bm{A}$
has exactly two components,
one bounded and the other is unbounded. 

\begin{center}
\begin{lpic}[t(-4mm),b(0mm),r(0mm),l(0mm)]{pics/polygons(1)}
\lbl[tr]{6,1;$A_1$}
\lbl[tl]{16,1;$A_2$}
\lbl[tl]{17,8;$A_3$}
\lbl[b]{25,17,-75;$\dots$}
\lbl[b]{2,22;$A_n$}
\lbl[r]{22.5,15.5;$\partial\bm{A}\rightarrow$}
\lbl[b]{15.5,17.5;$\uparrow$}
\lbl[rb]{20.5,10.5;$\searrow$}
\lbl[b]{11,22,10;side}
\lbl[b]{8,13,-50;diagonal}
\end{lpic}
\end{center}

The bounded component is called \emph{interior of polygon} and denoted by $\mathring{\bm{A}}$
and the unbounded component is called \emph{exterior of polygon}.
The union of interior and the contour is called \emph{body of the the polygon} it will be denoted by $\bar{\bm{A}}$, so 
\[\bar{\bm{A}}=\mathring{\bm{A}}\cup \partial\bm{A}.\]
\end{thm}

We omit the proof of the proposition; it is not hard but tedious.

\section*{Congruence}
\addtocontents{toc}{Congruence.}

By now we have three important sets
contour $\partial\bm{A}$,
interior $\mathring{\bm{A}}$
and the body $\bar{\bm{A}}$
associated with any simple polygon $\bm{A}$.
Note that these sets for different polygons might coincide.
For example polygon $\bm{A}=A_1A_2\dots A_n$ is different from
the polygon $\bm{A}'=A_2\dots A_nA_1$, 
so 
\[\bm{A}'\ne \bm{A},
\ \ \text{but}\ \ 
\partial\bm{A}'=\partial\bm{A},\ \  
\mathring{\bm{A}}'=\mathring{\bm{A}},\ \ 
\bar{\bm{A}}'=\bar{\bm{A}}.\]

Similarly polygons and their bodies behave with respect to congruence,
which we about to define.

\begin{thm}{Definition}
Two polygons $\bm{A}$ and $\bm{B}$
are called congruent (briefly $\bm{A}\cong\bm{B}$)
if they have the same number of vertices 
and there is a motion of the plane 
which sends every vertex of $\bm{A}$ to the correspondig vertex of $\bm{B}$.
That is, $\bm{A}=A_1\dots A_n$ and $\bm{B}=B_1\dots B_n$
for some positive integer $n$ and there is a motion $f$
such that $B_i=f(A_i)$ for every $i$.
\end{thm}

\begin{thm}{Definition}\label{def:cong-sets}
Two sets $\mathcal{S}$ and $\mathcal{T}$ in the plane  
are called congruent 
(briefly $\mathcal{S}\cong \mathcal{T}$)
if 
$\mathcal{T}=f(\mathcal{S})$ for some motion $f$ of the plane.
\end{thm}

Applying this definition with the identity map $f$,
we get that
\[\partial\bm{A}'\cong\partial\bm{A},\ \  
\mathring{\bm{A}}'\cong\mathring{\bm{A}},\ \ 
\bar{\bm{A}}'\cong\bar{\bm{A}}\]
where polygons $\bm{A}$ and $\bm{A}$ as above.

On the other hand $\bm{A}'\ncong\bm{A}$.















\section*{Scissors-congruence}
\addtocontents{toc}{Scissors-congruence.}

We say that two subsets $X$ and $Y$ 
of the plane are congruent (briefly $X\cong Y$)
if there is a motion of the plane $m$
such that $Y=m(X)$.

Recall that $\triangle ABC\cong\triangle A'B'C'$ means that there is a motion of the plane, say $m$, 
such that $A'=m(A)$, $B'=m(B)$ and $C'=m(C)$.
Now for the sets of their vertices,
$\{A,B,C\}\cong\{A',B',C'\}$ means that there is a motion $m$ such that $\{A',B',C'\}=m(\{A,B,C\})$.
For example it might happen that $A'=m(B)$, $B'=m(C)$ and $C'=m(A)$
in this case $\triangle ABC\cong\triangle C'A'B'$ and in general $\triangle ABC\not\cong\triangle A'B'C'$.

We say that polygon $P$ is subdivided into polygons $\bm{B}_1,\dots, \bm{B}_n$
if $P=\bm{B}_1\cup\dots\cup \bm{B}_n$ and no pairs of polygons $\bm{B}_i$, $\bm{B}_j$ have common interior point.

Two polygons $P$ and $P'$ are called scissors-congruent
if one can subdivide $P$ into polygons $\bm{B}_1,\dots, \bm{B}_n$
and $P'$ into polygons $\bm{B}_1',\dots, \bm{B}_n'$
in such a way that $\bm{B}_i\cong \bm{B}_j$.



The following theorem is qute nontrivial.

\begin{thm}{Theorem}
There is a function $S$ which returns a nonnegative real number for any polygon $P$ such that two polygons $P$ and $P'$ are scissors-congruent
if and only if $S(P)=S(P')$.
\end{thm}

Note that if $S$ is a function satisfying the theorem then so is any function $S'(P)=k\cdot S(P)$ with $k>0$.
Given a polygon $\bm{B}$ we can take $k=\tfrac{1}{S(\bm{B})}$,
in this case $S'(\bm{B})=1$;
in other words $\bm{B}$ will become the unit of area.

\parbf{Comment.}
Analogous theoerem holds for sphere and hyperbolic plane.
In the $3$-dimensional Euclidean space the theorem does not hold.


\section*{Defining properties of area}
\addtocontents{toc}{Defining properties of area.}

We say that a solid polygon $P$ is subdivided 
into two polygons $P_1$ and $P_2$ 
if $P=P_1\cup P_2$ 
and the polygons $P_1$ and $P_2$ do not have common interior points. 

A function $S$ 
which returns a real number for any solid polygon is called \emph{area}
if it is satisfies the following conditions.

\begin{enumerate}[(i)]
\item\label{area:positive} The area of any polygon is nonnegative.
\item\label{area:additive} If polygon $P$ is subdivided in two polygons $P_1$ and $P_2$ then 
\[S(P)=S(P_1)+S(P_2).\]
\item\label{area:equal} If two solid polygons $P_1$ and $P_2$ are congruent then $S(P_1)=S(P_2)$
\item\label{area:unit} Unit square has unit area; that is $S(\bm{B})=1$ if $\bm{B}$ a unit squre.
\end{enumerate}


\begin{thm}{Proposition}
There is unique are functional for polygons in the Euuclidean plane. 
\end{thm}

We omit the proof of this proposition;
it is quite technical and tedious. 

\parbf{Remark.}
Analogous statement hold for hyperbolic geometry, but the normalization property has to be formulated differently.
For example one can state it as 
\[\lim_{\epsilon\to0}\frac{S(T_\epsilon)}{\epsilon^2}=\tfrac12,\]
where 
$T_\epsilon$ is right the isosceles triangle with legs $\epsilon$.


\begin{thm}{Corollary}
Let $P$ and $\bm{B}$ be twopolygons and $P\subset \bm{B}$.
Then $\area P\le \area \bm{B}$.
\end{thm}

To prove the above corollary one has to subdivide $\bm{B}$ into into polygons
such that $P$ is one of them and apply additivity of area.
corrolary above 
follows from properties 
(\ref{area:positive}) and (\ref{area:additive}).






\section*{Area functional}
\addtocontents{toc}{Area functional.}

A function $F$ which returns a real number 
for any triangle is called \emph{area functional} if it satisfies the followng conditions.

\begin{enumerate}
\item For any triangle $\triangle ABC$ we have $F(\triangle ABC)\ge 0$ and 
if  $\triangle ABC$ nondegenerate then $F(\triangle ABC)>0$.
\item If $\triangle ABC\cong\triangle A'B'C'$ 
 then $F(\triangle ABC)=F(\triangle A'B'C')$
\item For any triangle $ \triangle ABC$ and $D\in [BC]$ we have
$$F(\triangle ABC)=F(\triangle ABD)+F(\triangle ADC).$$
\end{enumerate}

The proof of the following proposition is quite nontrivial.

\begin{thm}{Proposition}
There is an area functional. 

Moreover it is unique up to multiplication by a positive constant. 
That is, if $F$ and $F'$ are area functionals then there is a positive real number $k$ such that 
\[F'(\triangle ABC)=k\cdot F(\triangle ABC)\]
for any triangle $\triangle ABC$.
\end{thm}

Let $\triangle ABC$ be a right triagle with unit length
and $F$ be an area functional such that $F(\triangle ABC)=\tfrac12$.
Then for any triangle $\triangle XYZ$ the value $a=F(\triangle XYZ)$ is called \emph{area} of $\triangle XYZ$;
brifly $a=\area(\triangle XYZ)$.






\section*{Area of polygons}
\addtocontents{toc}{Area of polygons.}

We say that point $X$ belongs to the \emph{interior} of traingle $\triangle ABC$
if $A$ and $X$ lie on the same side from the line $(BC)$,
$B$ and $X$ lie on the same side from the line $(CA)$
and 
$C$ and $X$ lie on the same side from the line $(AB)$.

Note that according to the definition,
a degenerate triangle has emplty interior.

The union of interior of $\triangle ABC$ and its sides $[AB]$, $[BC]$, $[CA]$
will be called triangular set and denoted by $\bar\triangle ABC$.
Recall that $\triangle ABC$ is just an ordered triple of distinct points in the plane,
while $\bar\triangle ABC$ is a set.
In particular $\bar\triangle ABC=\bar\triangle BAC$, while $\triangle ABC\ne\triangle BAC$.

We say that two trianglar set do not \emph{overlap} if the interiors of the corresponding triangles do not interect.
The nonoverlaping trianglar set might intesect along s subsets of its sides, in particular they might share a vertex.

Assume that  $\bar\triangle_1,\dots,\bar\triangle_n$ a finite collection of pairwise nonvoerlapping triangles
and $S$ is the union of all their interiours and sides.
In this case we say that $S$ is subdivided into triangular sets $\bar\triangle_1,\dots,\bar\triangle_n$.
The set which admit a subdivision into triangles are called \emph{polygonal sets}.

\begin{thm}{Proposition-Definition}
Assume that polygonal set $S$ admits two subdivision into triangles
$\triangle_1,\dots,\triangle_n$
and $\triangle'_1,\dots,\triangle'_k$
then
\[\area\triangle_1+\dots+\area\triangle_n
=\area\triangle'_1+\dots+\area\triangle'_k.\]

In particular, we can define the area of $S$ using the following formula
\[\area S=\area\triangle_1+\dots+\area\triangle_n.\]

\end{thm}

Instead of giving the proof of the proposition above we will give one illustration s an exercis;
in fact this exercise leads to the proof of the proposition.

\begin{thm}{Exercise}
Assume that the diagonals of quadrilateral $ABCD$ intersect at the point $M$.
Show that
\[\area\triangle ABC+\area\triangle CDA=\area\triangle BCD+\area\triangle DAB.\]
\end{thm}

Assume that diagonals of quadrilateral $ABCD$ interect at a point $M$.
In this case the union of triangular sets $\bar\triangle ABC$ and 

Assume $S$ is a \emph{polygonal sets} subdivided into triangles sets $\bar\triangle_1,\dots,\bar\triangle_n$.
Set 
\[\area S=\area\bar\triangle_1+\dots+\area\triangle_n.\]
We claim that the right hand side does not depend on the choice of the subdivision; 
that is, if $S$ admits another subdivided into triangles sets $\bar\triangle_1',\dots,\bar\triangle_k'$
then 
\[\area\bar\triangle'_1+\dots+\area\bar\triangle'_k
=
\area\bar\triangle_1+\dots+\area\bar\triangle_n.\]


Assume the point $D$ lies the vertices $B$ and $C$ of the $\triangle ABC$.
Then trianglar set $\bar\triangle ABC$ admits a subdivision into  $\bar\triangle ABD$ and $\bar\triangle ACD$.

Further, given a subdivision of polygonal set into trianglar sets $\bar\triangle_1,\dots,\bar\triangle_n$,
we can subdivide as above 
any trianglar set, say $\bar\triangle_1$,
into two $\bar\triangle_1'$ and $\bar\triangle_1''$.
Then 
$\bar\triangle_1',\bar\triangle_1'',\bar\triangle_2\dots,\bar\triangle_n$
forms a new subdivision of $S$.
We also can revert this construction if the union of two triangular sets 
say $\bar\triangle_i\cup \bar\triangle_j$ forms a triangular set.
These two operations produce a new subdivision from the old one \emph{elmentary move}.

According to ???,
the elementary moves do not change the total sum of the areas of the triangular sets in the subdivision.
In particular if two one subdivision of polygonal set can be obtained from the other by applying a sequence of elementary moves then 

The following proposition 



The proposition above makes possible to define area of polgonal sets
as the sum of areas of all the tringle in its subdivision into triangles.


\begin{thm}{Exercise}
Assume $\blacktriangle ABC\supset \blacktriangle XYZ$.
Show that 
\[\area \triangle ABC\ge \area \triangle XYZ\]

\end{thm}


Any finite union of solid triangles segments and points is called polygonal set.

A point $X$ in a polygonal set $P$ is called interior point of $P$ 
if for some $\epsilon>0$ all the points $Y$ in the plane such that $XY<\epsilon$ lie in $P$.

We say that a polygonal sets $P$ 
is subdivided into polygonal sets $\bm{B}_1,\dots, \bm{B}_n$
if $P=\bm{B}_1\cup\dots\cup \bm{B}_n$
and no pair $\bm{B}_i$, $\bm{B}_j$ has common interior point.

We say that a polygonal set $P$ 
is smaller than a polygonal set $P'$
if $P$ admis a subdivision into $\bm{B}_1,\dots, \bm{B}_n$
and $P'$ contains 

Two polygonal sets called 













%%%%%%%%%%%%%%%

To prove the converse, let us argue by contradiction.
Assume that \ref{eq:inscribed-angle} holds for some $P\notin \Gamma$.
Note that $\measuredangle X O Y\ne 0$ and therefore $\measuredangle X P Y$ is distinct from $0$ and $\pi$;
that is, $\triangle PXY$ is nondegenerate.

\begin{center}
\begin{lpic}[t(0mm),b(0mm),r(0mm),l(0mm)]{pics/inscribed-angle-6(1)}
\lbl[rb]{11,41;$P'$}
\lbl[r]{10,29;$P$}
\lbl[l]{43,22;$X$}
\lbl[rt]{11,3;$Y$}
\lbl[rb]{21,23;$O$}
%%%%
\lbl[t]{49,10;$P$}
\lbl[l]{93,22;$X$}
\lbl[rt]{61,3;$Y$}
\lbl[rb]{71,23;$O$}
\end{lpic}
\end{center}

If the line $(PY)$ is secant to $\Gamma$, denote by $P'$ the point of intersection of $\Gamma$ and $(PY)$ which is distinct from $Y$.
From above we get that
$$2\cdot\measuredangle X P' Y
\equiv
\measuredangle X O Y.$$
In particular, 
$$2\cdot\measuredangle X P' Y
\equiv
2\cdot\measuredangle X P Y.$$
By the transversal property \ref{thm:parallel-2},
$(P'X)\parallel (PX)$.
Since $\triangle PXY$ is nondegenerate,
the latter implies $P=P'$, which contradicts $P\notin \Gamma$.

In the remaining case, if $(PY)$ is tangent to $\Gamma$,
the proof goes along the same lines.
Namely, by Theorem~\ref{thm:tangent-angle},
$$2\cdot\measuredangle P Y X
\equiv
\measuredangle Y O X.$$
Therefore 
$$2\cdot(\measuredangle X P Y + \measuredangle P Y X)
\equiv0.$$

By the transversal property \ref{thm:parallel-2},
$(PY)\z\parallel (XY)$;
therefore $(PY)\z= (XY)$.
That is, $\triangle PXY$ is degenerate,
a contradiction.













\parbf{Exercise~\ref{ex:center-proj}.}
Follows from Theorem \ref{thm:circle-center-proj} the same way as the exercises~\ref{ex:affine-perp} and \ref{ex:midpoint-proj}.








\parbf{Exercise~\ref{ex:affine+circles}.}
According to Exercise~\ref{ex:center-circ-affine}, the transformation has to send center of the circle to the center of its image.

Assume that the transformation is given as
\[\beta\:\left(\begin{smallmatrix}
x\\ y
\end{smallmatrix} \right)
  \mapsto
  \left(\begin{smallmatrix}
a&b\\ c&d
\end{smallmatrix} \right)
  \cdot
  \left(\begin{smallmatrix}
x\\ y
\end{smallmatrix} \right)
  +
\left(\begin{smallmatrix}
v\\ w
\end{smallmatrix} \right).
\]
Applying the parallel translation we may assume that the origin did not move; 
that is, $\left(\begin{smallmatrix}
v\\ w
\end{smallmatrix} \right)=0$.
Applying a homothety we may assume that unit circle centered at the origin is mapped to itself.
Since $\beta\left(\begin{smallmatrix}
1\\ 0
\end{smallmatrix} \right)
=
\left(\begin{smallmatrix}
a\\c 
\end{smallmatrix} \right)$,
$\beta\left(\begin{smallmatrix}
0\\ 1
\end{smallmatrix} \right)
=
\left(\begin{smallmatrix}
b\\d 
\end{smallmatrix} \right)$ 
and 
$\beta\left(\begin{smallmatrix}
1/\sqrt{2}\\ 1/\sqrt{2}
\end{smallmatrix} \right)
=
\left(\begin{smallmatrix}
(a+b)/\sqrt{2}\\(c+d)/\sqrt{2} 
\end{smallmatrix} \right)$
we get that
\begin{align*}
a^2+c^2&=1\\
b^2+d^2&=1\\
(a+b)^2+(c+d)^2&=2.
\end{align*}
It follows that the matrix takes one of two forms $\bigl(\begin{smallmatrix}
a&b\\ -b&a
\end{smallmatrix} \bigr)$
or 
$\bigl(\begin{smallmatrix}
a&b\\ b&-a
\end{smallmatrix} \bigr)$ where $a^2+b^2=1$;
that is, the map is a motion of the plane.




\parbf{Exercise~\ref{ex:Moebius=inversive}.}
Follows from
Exercise~\ref{ex:inversion-Mob}.













\begin{thm}{Proposition}
The identity map in a group of transformations on set $\mathcal X$ can be distinguished
from all the other transformations as the unique transformation $\iota$ such that
\[\iota\circ\alpha=\alpha
\eqlbl{eps-circ-alpha}\] 
for any transformation $\alpha$.
\end{thm}

\parit{Proof.}
Assume $\iota$ is the identity map;
that is, $\iota(x)=x$ for any  $x$.
Then 
\[\iota\circ\alpha(x)=\iota(\alpha(x))=\alpha(x).\]
Hence \ref{eps-circ-alpha} follows.

Assume $\iota'$ is a transformation which satisfies \ref{eps-circ-alpha}.
Then 
\[\iota'(x)=\iota'(\iota(x))=\iota'\circ\iota(x)=\iota(x).\]
The latter implies $\iota'=\iota$.
\qeds














The group motions of plane (Euclidean or hyperbolic or absolute) is equipped with natural binary operation, given two motions $\alpha$ and$\beta$ one can take its composition $\alpha\circ\beta$.
Also, for any motion $\alpha$,
its inverse $\alpha^{-1}$ is a motion of the plane.












\parit{Second proof.}
Consider such a configuration in the Euclidean space.
Assume in addition that the lines $(AA')$, $(BB')$ and $(CC')$ do not lie in one plane and intersect at point $O$.

Denote by $(PQR)$ the plane passing through three points.

Nothe that
\begin{align*}
(AB)&= (OAB)\cap (ABC),&
(A'B')&= (OAB)\cap (A'B'C'),\\
(BC)&= (OBC)\cap (ABC),&
(B'C')&= (OBC)\cap (A'B'C'),\\
(CA)&= (OCA)\cap (ABC),&
(C'A')&= (OCA)\cap (A'B'C').
\end{align*}
Further
\begin{align*}
X&=(BC)\cap(B'C')=(OBC)\cap (ABC)\cap (A'B'C'),\\
Y&=(CA)\cap(C'A')=(OCA)\cap (ABC)\cap (A'B'C'),\\
Z&=(AB)\cap(A'B')=(OAB)\cap (ABC)\cap (A'B'C').
\end{align*}
Note that $(ABC)\cap (A'B'C')$ is a line and
\[X,Y,Z\in (ABC)\cap (A'B'C');\]
that is, the points are collinear. 
Passing  to the orthogonal projection of this configuration to a plane proves proves the theorem.

Applying a perspective projection,
the case $(AA')\parallel(BB')\parallel(CC')$ 
can be reduced to the one discussed above.
\qeds

















The idealized ruler can be used only to draw a line through given two points. (The ruler is assumed to be infinite in length, and it has no markings on it and only one edge.)
The idealized ruler and compass can be used only to draw a circle with given center and radius.
We may always mark an additional point in the plane
as well as on the constructed sets, lines or circles or on their intersections.
Doing this we have no control on the choice the additional point. 

We can also look at the different set of instruments, 
for example
you may only use the ruler;
you may invent your own instruments, for example an instrument which produce midpoint for given two points, 
or produce a circle or line which pass through given three points.
Thanks to number of computer programs which were developed in the last few years, one can play with these these instruments as well.

Any construction problem starts with the \index{initial configuration}\emph{initial configuration},
it is finite collection of points, lines, circles
and asked for an algorithm of constructing some other configuration of points.

A construction is a finite sequence of the following five basic constructions which use the points, lines and circles that have already been constructed. 
These are:
\begin{enumerate}[(a)]
\item Draw the line through two marked points;
\item Draw the circle through one marked point with center at another marked point;
\item Mark the point which is the intersection of two constructed lines (if they intersect);
\item Mark the one or two points in the intersection of a line and a circle (if they intersect);
\item Mark the one or two points in the intersection of two circles (if they intersect);
\end{enumerate}

The rules above describe the classical compass-and-ruler constructions. 
But one can look at the different instruments, for example
you may only consider ruler,
you may invent your own instruments, for example an instrument which produce midpoint for given two points, or produce a circle or line which pass through given three points.
Thanks to number of computer programs which were developed in the last few years, one can play with these these instruments as well. 


Use the following links to see the following standard constructions.
\begin{itemize}
\item \href{run:./car/segment-bisector.html}{Bisection of a segment.}
\item \href{run:./car/angle-bisector.html}{Bisection of a angle.}
\item \href{run:./car/perpendicular-1.html}{Perpendicular to a line from an external point.}
\item \href{run:./car/perpendicular-2.html}{Perpendicular to a line at a point on the line.}
\item \href{run:./car/5-sect.html}{Dividing a line segment into 5 equal segments.}
\end{itemize}

\begin{thm}{Exercises}
Use the following links to java applets to do the following constructions. 
\begin{itemize}
\item Euclidean geometry: 
\href{run:./car/parallel.html}{parallel line}, 
\href{run:./car/trisection.html}{segment trisection}, 
\href{run:./car/incircle.html}{incircle of triangle},
\item Inversive geometry: 
\href{run:./car/inverse.html}{inverse of a point}, 
\href{run:./car/h-line.html}{perpedicular circle}, 
\href{run:./car/perpendicular-circles.html}{perpedicular circle 2}
\item Hyperbolic geometry: 
\href{run:./car/h-center.html}{h-center}, 
\href{run:./car/h-triangle.html}{perpendicular bisectors of h-triangle}, 
\href{run:./h-equal.html}{h-circle}.
\end{itemize}
\end{thm}
















\parbf{Exercise~\ref{ex:car-midpoint}.}
\begin{enumerate}[1.]
\item Draw a circle with center $A$ through $B$;
\item Draw a circle with center $B$ through $A$;
\item Draw a line $\ell$ through the points of interections of the constructed cuircles.
\item The intersection of $\ell$ and $[AB]$ is the midpoint of $[AB]$.
\end{enumerate}
\begin{center}
%\begin{wrapfigure}[11]{o}{28mm}
\begin{lpic}[t(-3mm),b(0mm),r(0mm),l(0mm)]{pics/ex-midpoint(1)}
\lbl[r]{22.5,25;$A$}
\lbl[l]{48,25;$B$}
\lbl[l]{36.5,34;$\ell$}
\end{lpic}
%\end{wrapfigure}
\end{center}










($\Rightarrow$).
If $A$, $B$, $C$ and $D$ lie on one line then both $\ang ABC$ and $\ang CDA$ are zero or straight. 
Hence \ref{eq:inscribed-4angle} follows.

If $A$, $B$, $C$ and $D$ lie on one circle,
denote by $O$ the center of the circle.
According to Theorem~\ref{thm:inscribed-angle},
\begin{align*}
2\cdot\measuredangle ABC
&\equiv\measuredangle AOB,
\\
2\cdot\measuredangle CDA
&\equiv\measuredangle BOA.
\end{align*}
Adding these two identities, we get \ref{eq:inscribed-4angle}.

\parit{}($\Leftarrow$).
Assume \ref{eq:inscribed-4angle} holds.


If $\triangle ABC$ is degenerate
then according to Corollary~\ref{cor:degenerate=pi}, $\measuredangle ABC=0$ or $\pi$.
From \ref{eq:inscribed-4angle}, $\measuredangle CDA=0$ or $\pi$.
Applying Corollary~\ref{cor:degenerate=pi} again,
we get that $B,D\in (AC)$; 
that is, all points $A$, $B$, $C$ and $D$ lie on one line.

If $\triangle ABC$ is nondegenerate,
denote by $\Gamma$ the circumcircle of $\triangle ABC$.
Applying the ``only if'' part of Theorem~\ref{thm:inscribed-angle}, we get the result.












From \ref{eq:inscribed-4angle}, $\measuredangle ADC\not\equiv 0$ nor $\pi$;
therefore $\triangle CDA$ is nondegenerate and in particular

\begin{wrapfigure}{o}{45mm}
\begin{lpic}[t(-7mm),b(0mm),r(0mm),l(0mm)]{pics/inscribed-angle-4a(1)}
\lbl[r]{1,21;$A$}
\lbl[rb]{6,34;$B$}
\lbl[lb]{40,32;$C$}
\lbl[tl]{30,1.5;$D'$}
\lbl[l]{35,13;$D$}
\end{lpic}
\end{wrapfigure}

$$(DA)\ne (CD).\eqlbl{eq:DAnpCD}$$


Now we need to consider two cases. 

\parit{Case 1.} Assume $(CD)$ is secant of $\Gamma$.
Denote by $D'$ be the point of intersection $\Gamma$ and $(CD)$ which is distinct from $C$.
From \ref{eq:inscribed-4angle} and the ``only if''-part, we get that
$$2\cdot \measuredangle ADC\equiv2\cdot \measuredangle AD'C.$$
According to Corollary~\ref{cor:parallel-2}, 

\begin{wrapfigure}{o}{45mm}
\begin{lpic}[t(-5mm),b(0mm),r(0mm),l(0mm)]{pics/inscribed-angle-4b(1)}
\lbl[r]{0,21;$A$}
\lbl[rb]{5,35;$B$}
\lbl[lb]{43,20;$C$}
\lbl[l]{41,8;$D$}
\end{lpic}
\end{wrapfigure}

$$(DA)\z\parallel(D'A).$$
Hence $(DA)\z=(D'A)$. 
From \ref{eq:DAnpCD} we get that $D=D'$;
hence the result follows.

\parit{Case 2.} Now assume $(CD)$ is tangent of $\Gamma$.
Let $O$ denotes the center of $\Gamma$.
Then
by Theorem~\ref{thm:tangent-angle}
$$2\cdot\measuredangle ACD\equiv \measuredangle AOC.$$


According to Theorem~\ref{thm:inscribed-angle},
\begin{align*}
2\cdot\measuredangle ABC&\equiv\measuredangle AOC.
\end{align*}
Therefore
\begin{align*}
2\cdot\measuredangle DCA+2\cdot\measuredangle ABC\equiv0.
\end{align*}

According to Corollary~\ref{cor:parallel-2}, $(DC)\z\parallel(DA)$. 
Therefore $D\in (AC)$ which contradicts \ref{eq:DAnpCD}.
















First note that if $(AD)\perp(BC)$ then by angle-side-angle condition $\triangle A D B\cong\triangle ADC$.
In particular $AB=AC$ and $DB=DC$; hence \ref{bisect-ratio} follows.

In the remaining case we may assume that $\ang B D A$ is obtuse (otherwise switch labels of $B$ and $C$).

Choose a point $D'\not=D$ on $(AD)$ such that $B D\z=B D'$ (it exists due to Lemma~\ref{lem:tangent}).

Since $\measuredangle DAB\equiv-\measuredangle DAC$,
the point
$D$ lies between $C$ and $B$.
Since $\triangle BDD'$ is isosceles,
angle $\ang BDD'$ is acute.
On the other hand $\ang B D A$ is obtuse, 
which implies that $D$ lies between $A$ and $D'$.

In particular the angles $\ang C D A$ and $\ang B D D'$ are vertical.
Since $\triangle D B D'$ is isosceles, we have 
\begin{align*}
\measuredangle B D' A&\equiv \measuredangle B D' D\equiv
\\
&\equiv -\measuredangle B D D'\equiv
\\
&\equiv -\measuredangle C D A
\end{align*}
Since $(AD)$ bisects $\ang B A C$, we have $\measuredangle DAB\equiv -\measuredangle D A C$.
Applying the AA condition, we get that $\triangle ADC\sim \triangle A D' B$.
Thus,
$$\frac{DB}{DC}=\frac{D' B}{DC}=\frac{AB}{AC}.$$
\qedsf









\section*{Area of spherical triangle\footnote{This is a slightly modified version of ``Area of a spherical triangle''  by Thomas Foregger, Igor Khavkine, John Smith. Freely available at \href{http://planetmath.org/AreaOfASphericalTriangle.html}{PlanetMath.org}.}}
\addtocontents{toc}{Area of spherical triangle.}

\begin{wrapfigure}[9]{o}{31mm}
\begin{lpic}[t(0mm),b(-0mm),r(0mm),l(0mm)]{pics/s-trig-my-1(1)}
\end{lpic}
\end{wrapfigure}

A spherical triangle is formed by connecting three points, its vertices, 
on the surface of a sphere with great arcs.
The spherical triangle with vertices $A$, $B$ and $C$ will be denoted by $\triangle_s ABC$.

The angle at each vertex is measured 
as the angle between the tangents to the sides.

The following theorem is analogous to Corollary~\ref{cor:area-h-trig}.

\begin{thm}{Theorem}\label{thm:s-trig-area}
Let $\triangle_s ABC$ be a spherical triangle on a unit sphere.
Denote by $\alpha$, $\beta$ and $\gamma$ the internal angles of $\triangle_s ABC$ 
at $A$, $B$ and $C$ correspondingly.
Then
$$\area (\triangle_s ABC) = \alpha+\beta+\gamma-\pi.$$

\end{thm}

\begin{thm}{Corollary}
The sum of the internal angles of a spherical
triangle is greater than or equal to $\pi$.
\end{thm}

\begin{thm}{Corollary}
Let $\mathcal{P}$ be a spherical $n$-gon 
with the internal angles $\alpha_1,\z\dots,\alpha_n$.
Then 
$$\area\mathcal{P}=\alpha_1+\dots+\alpha_n-\pi\cdot(n-2).$$

\end{thm}

In the following proof, we use that area of unit sphere is $4\cdot\pi$.
This fact follows from the formula for area of surface of revolution;
we do not present these calculations here.

On the picture above, you see a spherical triangle $\triangle_sABC$.
Note that by continuing the sides of the original triangle into
great circles, another spherical triangle is formed. The triangle $\triangle_sA'B'C'$
is antipodal to $\triangle_sABC$; it can be obtained by reflecting $\triangle_sABC$ through $O$. 
By symmetry, both triangles must
have the same area.

\parit{Proof.}
The \index{spherical diangle}\emph{spherical diangle} is a subset of the sphere which is bounded by two great arcs that intersect in two points, which must lie on a diameter. 

Six diangles
with vertices on the diameters $AA'$, $BB'$ and $CC'$ are shown on the picture.

\begin{figure}[h]
\includegraphics[scale=0.3]{pics/img4}\ \ 
\includegraphics[scale=0.3]{pics/img5}\ \ 
\includegraphics[scale=0.3]{pics/img6}
\end{figure}

Clearly, a diangle occupies an area that is proportional to the absolute value of the angle measure. 
Since the area of the sphere
is $4\cdot\pi$, 
the area of the diangles are $2\cdot\alpha$, $2\cdot\beta$ and $2\cdot\gamma$ correspondingly.

Note that these 6 diangles cover the entire sphere while overlapping
only on the triangles $\triangle_s ABC$ and $\triangle_s A'B'C'$;
the diangles cover these triangles three times and the remaining part of sphere only once.
Therefore 
$$
4\cdot\pi + 4\cdot\area(\triangle_s ABC)= 4\cdot \alpha+4\cdot \beta+4\cdot\gamma.
$$
Hence, the result follows.
\qeds













\begin{thm}{Theorem}\label{thm:sum-trig-h}
Given three positive real numbers $\alpha$, $\beta$ and $\gamma$ such that
$$\alpha+\beta+\gamma<\pi$$ 
there is a hyperbolic triangle $\triangle_hABC$
such that with
$$|\measuredangle_hCAB|=\alpha,\ \ |\measuredangle_hABC|=\beta\ \ \text{and}\ \ |\measuredangle_hBCA|=\gamma.\eqlbl{eq:abc}$$
 
Moreover this triangle is uniquely determined up to congruence. 
\end{thm}

%???PIC

\parit{Proof.}
Set 
$$\epsilon=(\pi-\alpha-\beta-\gamma)/2.$$
Note that there is a Euclidean triangle $\triangle ABC$ such that 
$$\measuredangle CAB=\alpha,\ \ \measuredangle ABC=\beta+\epsilon\ \ \text{and}\ \ \measuredangle BCA=\gamma+\epsilon.$$

Let us construct an arc $BQC$
such that if $[BX)$ and $[CY)$ are tangents half-lines to arc $BQC$
at $B$ and $C$ then $\measuredangle CBX=\measuredangle ACY=-\epsilon$.
Denote by $\Gamma$ the circle containing arc $BQC$.

Note that $O$ lies outside of $\Gamma$.
Draw a line $(AW)$ which is tangent to $\Gamma$ at $W$.
In this case the circle $\Omega$ centered at $A$  and passing through $W$
is perpendicular to $\Gamma$.
Note that $\triangle_h ABC$ in the model with absolute $\Omega$ satisfies \ref{eq:abc}. 

To prove the last statement, first note that we can assume that $A$ is the center of absolute.
In this case, if $\triangle_hABC$ satisfies \ref{eq:abc}
then $\triangle ABC$ has angles with measures 
$\pm \alpha$, $\pm \beta+\epsilon$ and $\gamma+\epsilon$
and the arc forming $[BC]_h$ is completely determined by  $B$, $C$ and $\epsilon$.
Therefore if $W$ is an ideal point of $(BC)_h$ then $\tfrac {AB}{AW}$ and $\tfrac {AC}{AW}$ are completely determined by $\alpha$, $\beta$ and $\gamma$.
Therefore so are the h-distances $AB_h$ and $AC_h$. 
It remains to apply the SAS congruence condition in h-plane.
\qeds












\section*{Existence of area}

\begin{thm}{Proposition}
Given a finite collection of polygonal regions $\mathcal{R}_1,\mathcal{R}_2,\dots, 
\end{thm}


Fix small $\epsilon>0$.
Given a polygonal region $\mathcal R$,
consider the maximal integer number $n$ such that there are $n$ points $P_1,P_2,\dots P_n$ in $\mathcal R$ such that $P_iP_j>\epsilon$ for all $i\ne j$.
Set $\pack_\epsilon \mathcal R=n$.

\begin{thm}{Exercise}
Show that $\pack_\epsilon \mathcal R$ is well defined integer number for any polygonal region.
\end{thm}

\begin{thm}{Exercise}\label{ex:bounded}
For any polygonal region $\mathcal R$ there is a constant $C$ such that
$$\epsilon^2\cdot\pack_\epsilon \mathcal R\le C$$
for any $\epsilon>0$.

Moreover if $\mathcal R$ is nondegenerate then there is a constrant $c>0$ such that 
$$\epsilon^2\cdot\pack_\epsilon \mathcal R> c$$
for any $\epsilon>0$.
\end{thm}

There is a set-theoretical monster-construction
which named \emph{ultralimit}.
Given a bounded sequence of real numbers $(x_n)=(x_1,x_2,\dots)$,
it gives a real number $\mathfrak{F}(x_n)$ such that
\begin{itemize}
\item $x=\mathfrak{F}(x_n)$ is a partial limit of the sequence $x_1,x_2,\dots$; 
that is, $x$ is a limit of a subsequence of $x_1,x_2,\dots,x_n$.
\item $\mathfrak{F}(x_n+y_n)=\mathfrak{F}(x_n)+\mathfrak{F}(y_n)$;
that is, given two bounded sequences of real numbers $(x_n)$ and $(y_n)$, consider sequence $(z_n)$ such that $z_n=x_n+y_n$ for each $n$ then $\mathfrak{F}(z_n)=\mathfrak{F}(x_n)+\mathfrak{F}(y_n)$.
\item $\mathfrak{F}(c\cdot x_n)=c\cdot \mathfrak{F}(x_n)$;
that is, given two bounded sequence of real numbers $(x_n)$ and a real number $c$, consider sequence $(z_n)$ such that $z_n=c\cdot x_n$ for each $n$ then $\mathfrak{F}(z_n)=c\cdot \mathfrak{F}(x_n)$.
\end{itemize}

The construction is not unique. 
For the sequence $x_n=(-1)^n$,
depending on the construction we might have $\mathfrak{F}(x_n)=1$ or $\mathfrak{F}(x_n)=-1$.

We will need only existence of one such construction
and we are not going to prove. %REF???

Note that if $x_n$ converges then
$$\mathfrak{F}(x_n)=\lim_{n\to\infty} x_n.$$
The ultralimits behave unpredictably when you pass to a subsequence.
 while
$\mathfrak{F}(x_n)=1$.
In fact it is true that if $\mathfrak{F}(x_n)$ does not depend on the choice of  $\mathfrak{F}$ then the sequence $(x_n)$ is converging.

Let $\mathcal R$ be a polygonal region.
Consider sequence $(x_n)$ with elements
$$x_n=\frac{\pack_{1/n} \mathcal R}{n^2}.$$
Note that according to the Exercise~\ref{ex:bounded} the sequence $x_n$ is bounded.
Define 
$$s(\mathcal R)=\mathfrak{F}(x_n).$$

Note that $x_n\ge 0$ for any $n$, therefore 
$$s(\mathcal R)\ge 0$$
for any polygonal region $\mathcal R$.
According to Exercise~\ref{ex:bounded},
$$s(\mathcal R)> 0$$
for any nongedenerate polygonal regions.


\begin{thm}{Exercise}
Let $\mathcal R_1$ and $\mathcal R_2$ be  two polygonal regions.
Show that there is a constant $C$ such tat
\begin{align*}
\pack_\epsilon \mathcal R_1 +\pack_\epsilon\mathcal R_2 &-C\cdot\epsilon\le
\\
\le
\pack_\epsilon (\mathcal R_1&\cup\mathcal R_2) +\pack_\epsilon (\mathcal R_1\cap\mathcal R_2)
\le 
\\
&\le
\pack_\epsilon \mathcal R_1 +\pack_\epsilon\mathcal R_2 +C\cdot\epsilon.
\end{align*}

Conclude that 
$$s(\mathcal{R}_1)+s (\mathcal{R}_2)=s(\mathcal{R}_1\cup\mathcal{R}_2)+s(\mathcal{R}_1\cap\mathcal{R}_2)$$
for any two polygonal regions $\mathcal R_1$ and $\mathcal R_2$.
\end{thm}

Denote by $\mathcal{Q}_1$ the unit square.
From the last exercise it follows that if one sets
$$\area\mathcal{R}=s(\mathcal{R})/s(\mathcal{Q}_1),$$
then the obtained functional satisfies all the properties of area.

\section*{Uniqueness of area}

Once the existence of area functional is proved we can use the properties of area alone to find the area of different polygonal regions.

\begin{thm}{Theorem}
Any degenerate polygonal region has zero area.
In particular, the are of segment is zero.
\end{thm}


\begin{thm}{Theorem}
The area of rectangular region with sides $a$ and $b$ is equal to $a\cdot b$. 
\end{thm}


\begin{thm}{Theorem}
Area of triangular region is equal to ...
\end{thm}

Finally note that any polygonal region can be presented as a union of finite number of triangles in such a way that distinct triangle do not have common points inside.
Applying the 

???

Consider triangle $\triangle ABC$.
Recall that altitude at $A$ is the distance from $A$ to its foot point on $(BC)$
Denote the altitude at $A$, $B$ and $C$ by $h_a$, $h_b$ and $h_c$ correspondingly.
Set $a=BC$, $b=CA$ and $c=AB$.

\begin{thm}{Exercise}
Show that 
$$h_a\cdot a=h_b\cdot b=h_c\cdot c.$$
\end{thm}


Let us define area of triangle $\triangle ABC$ the following way.
$$\area \triangle ABC= \tfrac12\cdot h_a\cdot a.
$$
From the above exercise we get that 

$$\area \triangle ABC=\area \triangle BAC=\area ACB=\dots$$


\begin{thm}{Exercise}
Assume $D$ lies between $B$ and $C$.
Show that 
$$\area \triangle ABC=\area \triangle ABD+\area \triangle ADC$$
\end{thm}

Given triangle $\triangle ABC$, let 
$h_a$ denotes the distance from $A$ to $(BC)$;
the value $h_a$ sometimes called altitude. 



\section*{Existence of area in Euclidean plane}

\section*{Existence of area in hyperbolic plane}




\section*{The sum of angles of polygon} 
\addtocontents{toc}{The sum of angles of polygon.}

In this section we work in a neutral plane;
that is, we do not want to specify is it Euclidean or hyperbolic geometry.

A \index{broken line}\emph{broken line} $A_1A_2\dots A_n$
is the union of segments $[A_1A_2]$, $[A_2A_3]$, ..., $[A_{n-1}A_n]$
and  \index{broken line!closed broken line}\emph{closed broken line} $A_1A_2\dots A_n$
is the union of segments $[A_1A_2]$, $[A_2A_3]$, ..., $[A_{n-1}A_n]$, $[A_nA_1]$.
A closed broken line  $A_1A_2\dots A_n$ is called \index{broken line!simple closed broken line}\emph{simple} if the segments  $[A_1A_2]$, $[A_2A_3], \z\dots,[A_{n-1}A_n]$ intersect each other only at the common ends.

The set $\mathcal{P}$ bounded by simple closed broken line $A_1A_2\dots A_n$ is called
\index{polygon}\emph{polygon} or \index{$n$-gon}\emph{$n$-gon}.

Here is a formal definition, $X\in\mathcal{P}$ if $X$ lie on the closed broken line $A_1A_2\dots A_n$ or one (and therefore any) half-line $[XY)$ which does not pass through any of $A_i$, intersects the broken line $A_1A_2\dots A_n$ at odd number of points.

In this case
\begin{itemize}
\item the points $A_1$, $A_2$, ..., $A_n$ are called \index{vertex of polygon}\emph{vertices} of $\mathcal{P}$;
\item the segments $[A_1A_2]$, $[A_2A_3]$, ..., $[A_{n}A_1]$ 
are called 
\emph{side of polygon}\emph{sides} of $\mathcal{P}$;
\item the remaining segments of the form $[A_iA_j]$ are called  
\index{diagonal of polygon}\emph{diagonals} of $\mathcal{P}$.
\end{itemize}

The  $n$-gon $\mathcal{P}$ can be always divided by diagonals into $(n-2)$ triangles $\triangle A_iA_jA_k$.
This fact is not completely obvious, but it is not hard to prove.

Without loss of generality, we may assume that all the angles $\ang A_iA_jA_k$,
$\ang A_jA_kA_i$ and $\ang A_kA_iA_j$ in these triangles are positive.

Denote by $\alpha_i$ the sum of angles of all these triangles at vertex $A_i$.
Note that $\alpha_i$ takes value in $(0,2\cdot\pi)$ and it does not depend on choice of subdivision into triangles.
The angle $\alpha_i$ is called 
\index{angle!internal angle}\emph{internal angle} of $\mathcal{P}$ at $A_i$.

By Theorem~\ref{thm:sum-trig-h}, the sum of angles of each nondegenerate triangle in the subdivision is less than $\pi$.
Since the $n$-gon is divided into $n-2$ triangles, 
it follows that if $\mathcal{P}$ is a polygon in h-plane then
$$\alpha_1+\alpha_2+\dots+\alpha_n< (n-2)\cdot\pi.$$
In Eulcidean plane, according to Theorem~\ref{thm:3sum}, we have 
$$\alpha_1+\alpha_2+\dots+\alpha_n=(n-2)\cdot\pi.$$
Therefore the value
$$S(\mathcal{P})=\pi\cdot(n-2)-\alpha_1-\alpha_2-\dots-\alpha_n$$
is positive for any $n$-gon in the hyperbolic plane and zreo for any $n$-gon $\mathcal{P}$ in Euclidean plane .

\begin{thm}{Lemma}\label{lem:n-sum-angle}
The functional $S$ defined above satisfies additivity; 
that is, if a polygon $\mathcal{P}$ is cut by a broken line into two polygons 
$\mathcal{Q}_1$ and $\mathcal{Q}_2$ then
$$S(\mathcal{P})=
S(\mathcal{Q}_1)+S(\mathcal{Q}_2).$$

\end{thm}

\begin{wrapfigure}{o}{52mm}
\begin{lpic}[t(-10mm),b(0mm),r(0mm),l(-6mm)]{pics/two-poly(1)}
\lbl[]{20,25;$\mathcal{Q}_1$}
\lbl[]{35,33;$\mathcal{Q}_2$}
\end{lpic}
\end{wrapfigure}

\parit{Proof.}
Assume $\mathcal{P}$ be an $n$-gon
and the cutting the broken line has $m$ vertices inside $\mathcal{P}$.
Assume polygon $\mathcal{Q}_1$ has $n_1$ vertex shared with of $\mathcal{P}$ 
and $\mathcal{Q}_2$ has $n_2$ vertex shared with of $\mathcal{P}$.

Thus $\mathcal{Q}_1$ is an $(n_1+m)$-gon and $\mathcal{Q}_2$ is an $(n_2+m)$-gon
and 
$$n_1+n_2=n+2.\eqlbl{n1+n2}$$

Denote by $\phi$ the sum of internal angles of $\mathcal{P}$ 
and by $\psi_i$  the sum of internal angles of $\mathcal{Q}_i$.
Note that each internal angle of $\mathcal{Q}_i$ either contributes to $\phi$ or it is an angle of the broken line.
Further, each of vertex of the broken line inside of $\mathcal{P}$ contributes $2\cdot\pi$ to $\psi_1+\psi_2$.
Hence 
$$\phi+2\cdot m\cdot\pi=\psi_1+\psi_2.\eqlbl{phi1+phi2}$$
Further,
$$\begin{aligned}
S(\mathcal{P})&=(n-2)\cdot\pi-\phi
&
S(\mathcal{Q}_i)&=(n_i+m-2)\cdot\pi-\psi_i.
\end{aligned}\eqlbl{S(P)}$$
The identities \ref{n1+n2}, \ref{phi1+phi2} and \ref{S(P)} imply the result.
\qeds



\section*{Area}\label{def:area}
\addtocontents{toc}{Area.}

Area is a function of the set of all polygons in the plane (Euclidean or hyperbolic).
Which satisfies the following conditions:

\begin{enumerate}[(a)]
\item\label{area:0} $\area\mathcal P>0$ for any polygon $\mathcal P$.
\item\label{area:1} If $\mathcal P$ and $\mathcal P'$ are congruent polygons then
$$\area\mathcal P=\area\mathcal P'.$$
\item\label{area:2}  Additivity:
 if a polygon $\mathcal{P}$ is cut by a broken line into two polygons 
$\mathcal{Q}_1$ and $\mathcal{Q}_2$ then
$$\area\mathcal{P}=
\area\mathcal{Q}_1+\area\mathcal{Q}_2.$$
\item\label{area:3}  Normalzation\footnote{In Euclidean geometry this condition is equivalent to the fact that the unit square has area $1$. In hyperbolic plane there are no squares, so we cannot normalize the area this way.}: if $a(\epsilon)$ is the area of right triangle with legs equal $\epsilon$ then
$$\lim_{\epsilon\to0} \tfrac{a(\epsilon)}{\epsilon^2}=\tfrac12.$$
\end{enumerate}

In Euclidean geometry, existence of area has a  long and tedious proof.
By that reason generic textbooks 
take the existence of area as an ``obvious fact''.
That is also the reason why we did not mention area up to now in this course.

Once the existence of area is proved, 
one can derive formulas for area of triangles and use it to show uniqueness of area functional.
One could also extend the definition of area to a bigger class of sets,
in particular one can talk about area of set bounded by a circle.

In hyperbolic geometry,
proving the existence of area functional is easy;
one can take 
$$\area\mathcal{P}= S(\mathcal{P})$$
where $S(\mathcal{P})$ is defined in the previous section.

Let us check that the conditions (\ref{area:0})--(\ref{area:3}).
The condition (\ref{area:0}) is proved in the previous section.
The condition (\ref{area:1}) is obvious.
The condition (\ref{area:2}) follows from Lemma~\ref{lem:n-sum-angle}.
The condition (\ref{area:3}) can be checked by direct calculations.
\qeds


The area functional is unique (we do not prove it but it is true).
Therefore further we can always assume that
$$\area\mathcal{P}= S(\mathcal{P})$$
for any polygon $\mathcal{P}$ in h-plane.


\begin{thm}{Corollary}\label{cor:area-h-trig}
Let $\Delta$ be a triangle in h-plane with absolute values of the internal angles $\alpha$, $\beta$ and $\gamma$.
Then 
$$\area\Delta=\pi-\alpha-\beta-\gamma.$$

In particular, by Theorem~\ref{thm:3sum-h},
area of any triangle in h-plane is less than $\pi$ and it is equal to $\pi$ for the ideal triangle.
\end{thm}

\begin{thm}{Exercise}\label{ex:area-sup}
Let $ABCD$ be a quadrilateral in h-plane such that the h-angles at $A$, $B$ and $C$ are right and $AB_h=BC_h$.
 Find the optimal upper for $\area(ABCD)$
\end{thm}

















\parbf{Exercise~\ref{ex:area-sup}.}
Note that 
\begin{align*}
\area ABCD
&=
2\cdot\pi-|\measuredangle ABC|-|\measuredangle BCD|-|\measuredangle CDA|-|\measuredangle DAB|=
\\
&=\tfrac{\pi}2-|\measuredangle CDA|.
\end{align*}
The value $|\measuredangle CDA|$ can be arbitrary close to $0$.
Therefore $\tfrac{\pi}2$ is the optimal upper bound.









;
it is
Consider the two lines $m$ and $n$ passing through $P$ and tangent to the circle containing $\ell$.
Note that the intersections of $m$ and $n$ with the h-plane are h-lines, which do not intersect $\ell$.
Hence Axiom~h-$\!$\ref{def:birkhoff-axioms:4} follows.










\parit{Proof.} 
Follows from Exercise~\ref{ex:centers-of-perp-circles}.
Note that given a point $Z$ outside of $\Omega$,
there is unique circle $\Gamma$ centered at $Z$ and perpendicular to $\Omega$.

Indeed, it is sufficient to show that the radius of $\Gamma$ is uniquely determined by $Z$ and $\Omega$.
By Lemma~\ref{lem:tangent}, 
if $T$ is a point of intersection of the circles 
$\Gamma$ and $\Omega$ then $\ang OTZ$ is right.
Clearly $ZT$ is the radius of $\Gamma$.
By the Pythagorean theorem, 
\begin{align*}
ZT^2&=ZO^2-OT^2=
\\
&=ZO^2-r^2,
\end{align*}
where $r$ is the radius of $\Omega$.

\begin{wrapfigure}{o}{43mm}
\begin{lpic}[t(-5mm),b(0mm),r(0mm),l(0mm)]{pics/PO-Gamma(1)}
\lbl[br]{6,31.5;$\Omega$}
\lbl[b]{40,31.5;$\Gamma$}
\lbl[t]{18,16;$O$}
\lbl[t]{33,16;$P$}
\lbl[t]{40,16;$Z$}
\lbl[b]{33,30;$T$}
\end{lpic}
\end{wrapfigure}

If in addition $O$ is the inverse of $P$ in $\Gamma$ then 
$Z\in (OP)$ and $OZ\cdot PZ=ZT^2$.
In particular, $\triangle OTZ\sim \triangle TPZ$.

Since $\ang OTZ$ is right, 
so are $\ang ZPT$ and $\ang OPT$.
It follows that $\triangle OPT\sim OTZ$ 
since $\ang POT$ is shared.
In particular,
$$OP\cdot OZ=OT^2;$$
that is, $Z$ is the inverse of $P$ in $\Omega$

Summarizing, we get that a circle $\Gamma$ satisfies the condition of the lemma
if and only if $\Gamma\perp\Omega$
and
its center $Z$ is the inverse of $P$ in $\Omega$.
Hence the result.
\qeds













\parbf{Exercise~\ref{ex:hat-d-and-+}.} 
Notice that for a fixed $\alpha$,
 the map $\beta\mapsto f(\alpha,\beta)$ is a motion of $((-\pi,\pi],\hat d)$.
The same way, for fixed $\beta$ the map $\alpha\mapsto f(\alpha,\beta)$ is a motion of $((-\pi,\pi],\hat d)$.

Applying triangle inequality, we get that
\begin{align*}
\hat d(f(\alpha_n,\beta_n),f(\alpha,\beta))
&\le\hat d(f(\alpha_n,\beta_n),f(\alpha_n,\beta)
+
\hat d(f(\alpha_n,\beta),f(\alpha,\beta)
=
\\
&=
\hat d(\beta_n,\beta)+\hat d(\alpha_n,\alpha).
\end{align*}
In particular, $\alpha_n\to\alpha$ and $\beta_n\to \beta$
implies that $f(\alpha_n,\beta_n)\to f(\alpha,\beta)$
in $((-\pi,\pi],\hat d)$ as $n\to\infty$.














\section*{Congruent sets}
\addtocontents{toc}{Congruent sets.}



(In a more abstract language this means that  the set of motions $\mathcal X\to\mathcal X$ forms a {}\emph{group}.
This group is called \index{group of motions}\emph{group of motions} of $\mathcal X$.
The identity map $\mathcal X\to\mathcal X$ serves as the unit element  and composition is the group operation.)

\begin{thm}{Definition}
Two subsets $V,W\subset \mathcal X$ are called \index{congruent subsets}\emph{congruent} (briefly \index{$\cong$}$V\z\cong W$)
if there is a motion $f\:\mathcal X\to\mathcal X$ which sends $V$ to $W$.
\end{thm}

It is evident from the above that ``$\cong$'' is an  \index{equivalence relation}\emph{equivalence relation};
that is, 
\begin{itemize}
\item $V\cong W$ if and only if $W\cong V$ and 
\item if $U\cong V$ and $V\cong W$ then $U\cong W$.
\end{itemize}


Note that congruent sets have to be isometric to each other.
The following example shows that on the Manhattan plane $(\mathbb{R}^2,d_1)$ isometric subsets might be not congruent.

On the other hand,
any pair isometric sets of Euclidean plane $(\mathbb{R}^2,d_2)$ are congruent.
We will not use, but it might be useful to know.



therefore all the sets $\{A,B\}$, $\{A,C\}$ and $\{B,C\}$ are isometric to each other.
Note that the map $f\:(x,y)\mapsto (-x,y)$ is a motion of $(\mathbb{R}^2,d_1)$; 
$f(A)=A$ and $f(B)=C$.
Thus the set $\{A,B\}$ is congruent to the set $\{A,C\}$.









\section*{Metric on $\bm{(-\pi,\pi]}$}
\addtocontents{toc}{Metric on $(-\pi,\pi]$.}

Note that for any real number $\alpha$ there is unique value $\beta\in(-\pi,\pi]$ such that
$\beta\equiv \alpha$.
By that reason we may assume that angle measure takes value in the real interval $(-\pi,\pi]$

We need to introduce a metric $\hat{d}$ on $(-\pi,\pi]$
different from the metric induced from $\mathbb{R}$.
Further we will use this metric in the formulation 
of continuity of angle measure.
Note that angles with measures $\pm(\pi-\epsilon)$ are ``geometrically close'' for small $\epsilon>0$;
so, in this metric $\hat{d}$, the values $\pm(\pi-\epsilon)$ have to be close to each other.

Given two real numbers 
$\alpha,\beta\in (-\pi,\pi]$,
set \label{def:max-dist}\index{$\hat{d}$}
$$\hat{d}(\alpha,\beta)
=
\min\{|\alpha-\beta|,2\cdot\pi-|\alpha-\beta|\}.
\eqlbl{eq:def-hat-d}
$$

Next we will show that $\hat{d}$ is a metric.

\begin{thm}{Proposition}
The function $\hat{d}(\alpha,\beta)$ is a metric on the set $(-\pi,\pi]$.
\end{thm}

\parit{Proof.}
Among the conditions in the Definition~\ref{def:metric-space}, we need to prove only triangle inequality
$$\hat{d}(\alpha,\gamma)\le \hat{d}(\alpha,\beta)+\hat{d}(\beta,\gamma);
\eqlbl{eq:trig-inq-hat-d}$$
the rest of conditions are  evident.

Note that if $\alpha-\beta\equiv \alpha'-\beta'$
for some values 
$\alpha,\beta,\alpha',\beta'\in (-\pi,\pi]$
then 
$$\hat{d}(\alpha,\beta)
=
\hat{d}(\alpha',\beta').
\eqlbl{eq:hat-d+shift}$$
Indeed, without loss of generality we may assume that $\delta=\alpha-\beta>0$;
since $\alpha-\beta\equiv \alpha'-\beta'$,
we have $\alpha'-\beta'$ may only take  values $\delta$, or $\delta-2\cdot\pi $.
In both cases \ref{eq:hat-d+shift} follows from \ref{eq:def-hat-d}.

Therefore we can assume in \ref{eq:trig-inq-hat-d}
that $\beta=0$;
that is, we need to prove that
$$\hat{d}(\alpha,\gamma)
\le 
\hat{d}(\alpha,0)+\hat{d}(0,\gamma);
$$
Or equivalently,
$$\min\{|\alpha+\gamma|,2\cdot\pi-|\alpha+\gamma|\}\le |\alpha|+|\gamma|.$$
The latter is true since 
$|\alpha+\gamma|\le |\alpha|+|\gamma|$.
\qeds

\begin{thm}{Exercise}\label{ex:hat-d-and-+}
Consider the map 
$f(\alpha,\beta)$ which returns a number in $(-\pi,\pi]$ for any pair of numbers $\alpha,\beta\in (-\pi,\pi]$
such that 
$$f(\alpha,\beta)\equiv \alpha+\beta.$$
(By now, it should be evident that $f$ is uniquely defined.)

Show that $f$ is continuous with respect to the metric $\hat d$.
\end{thm}











\parit{Proof.}
Recall that $\hat d$ denotes the metric on the interval $(-\pi,\pi]$
introduced on page \pageref{def:max-dist}.
Consider function $s\:(-\pi,\pi]\to \mathbb{R}$
defined as 
$$s(\alpha)=\left[
\begin{aligned}
&\pi-\alpha&&\text{if}&&\alpha\ge\tfrac\pi2
\\
&\alpha&&\text{if}&&-\tfrac\pi2\le\alpha\le\tfrac\pi2
\\
-\,&\pi-\alpha&&\text{if}&&\alpha\le-\tfrac\pi2
\end{aligned}
\right.
.$$
Note that for any $\alpha\in (-\pi,\pi]$ we have
$s(\alpha)=\tfrac\pi2-\hat d(\alpha,\tfrac\pi2)$.
Therefore by triangle inequality
$|s(\alpha)-s(\beta)|\le d(\alpha,\beta)$. 
In particular 
$$s\:((-\pi,\pi],\hat{d})\to\mathbb{R}$$ 
is a continuous function.
Further note that
\begin{itemize}
\item $s(\alpha)=0$ if and only if $\alpha=0$ or $\pi$;
\item $s(\alpha)>0$ if and only if $0<\alpha<\pi$;
\item $s(\alpha)<0$ if and only if $\alpha<0$.
\end{itemize}
In particular, if $\measuredangle AOB\ne 0,\pi$ 
then the angle $\ang AOB$ and the real number $s(\measuredangle AOB)$ have the same sign.

Consider the function 
$f(t)=\measuredangle A_tO_tB_t$.

Since 
the points $O_t$, $A_t$ and $B_t$ do not lie on one line,
Theorem~\ref{thm:straight-angle} implies that $f(t)=\measuredangle A_tO_tB_t\ne 0$ or $\pi$ for any $t\in[0,1]$.
Therefore by Axiom~\ref{def:birkhoff-axioms:2c},
$f$ is a continuous function.
Further,
by Intermediate value theorem, $f(0)$ and $f(1)$ have the same sign;
hence the result follows.
\qeds








\item\label{def:birkhoff-axioms:2c} 
The function $\measuredangle\:(A,O,B)\mapsto\measuredangle A O B$
is defined at the set $W$ of all triples 
$(A,O,B)$ such that $O\ne A$ and $O\ne B$.
Moreover if $\hat{d}$ denotes the metric on $(-\pi,\pi]$ introduced above then
$$\measuredangle\: W\to ((-\pi,\pi],\hat{d})$$ 
is continuous.









\begin{thm}{Exercise}\label{ex:angle-signs-in-trig}
Assume $\triangle ABC\cong\triangle A'B'C'$. 
Note that by Axiom~\ref{def:birkhoff-axioms:3},
\begin{align*}
\measuredangle C'A'B'&\equiv\pm\measuredangle CAB,
&
\measuredangle A'B'C'&\equiv\pm\measuredangle ABC,
\\
&\text{and}&\measuredangle B'C'A'&\equiv\pm\measuredangle BCA,
\end{align*}
Show that the signs in the above three identities can be chosen
to be the same. 
\end{thm}









\parit{Proof.}
Assume first that $C_1=C_2$, so we can set 
\begin{align*}
C&=C_1=C_2,
&
C'&=C_1'=C_2.
\end{align*}


Applying to Proposition~\ref{prop:arc(angle=tan)},
\begin{align*}
\measuredangle X_1AX_2&\equiv\measuredangle X_1AC+\measuredangle CAX_2\equiv
\\
&\equiv(\pi-\measuredangle CB_1A)+(\pi-\measuredangle AB_2 C)\equiv
\\
&
\equiv -(\measuredangle CB_1A+\measuredangle AB_2 C)
\end{align*}

Analogously,
\begin{align*}
\measuredangle Y_1A'Y_2&
\equiv -(\measuredangle C'B_1'A'+\measuredangle A'B_2' C').
\end{align*}

By Theorem~\ref{lem:inverse-4-angle}(\ref{lem:inverse-4-angle:angle}), 
\[\measuredangle CB_1A+\measuredangle AB_2 C
\equiv
-(\measuredangle C'B_1'A'+\measuredangle A'B_2' C')
\]
and hence the result.

Now let us come back to the general case.

Let $\Gamma_1$ and $\Gamma_2$ be the circlines containing the arcs $AB_1C_1$ and $AB_2C_2$.
Assume $\Gamma_1$ and $\Gamma_2$ intersect at two points at $A$ and say at $C$.
In this case we can extend or shorten the arcs  $AB_iC_i$ in $\Gamma_i$ to make the $C_1=C_2=C$;
note that it will not change the angles between tangent half-lines at $A$.
This way we reduce the problem to the case which was already considered.

The remaining case when $\Gamma_1$ and $\Gamma_2$ are tangent at $A$ is left to the reader;
it can be proved applying the case above twice.
\qeds













\begin{thm}{Proposition}\label{prop:parallel-2}
$(AB)\parallel(C D)$ if and only if 
$$\measuredangle A B C+\measuredangle B C D\equiv 0\ \text{or}\ \pi.\eqlbl{A B C + B C D}$$ 
Moreover, if $\measuredangle A B C+\measuredangle B C D\equiv 0$
then the points $A$ and $D$ lie on opposite sides from $(BC)$ 
and if $\measuredangle A B C+\measuredangle B C D\equiv \pi$
 the points $A$ and $D$ lie on the same side from $(BC)$.
\end{thm}

\parit{Proof.}
We may assume that $\measuredangle ABC\ne 0$ or $\pi$;
otherwise the statement is evident. 

\parit{}($\Leftarrow$).
Arguing by contradiction, 
assume \ref{A B C + B C D} holds, but $(AB)\z\nparallel(C D)$.
Let $Z$ be the point of intersection of $(AB)$ and $(CD)$.

Denote by $M$ be the midpoint of $[BC]$; note that $M\ne Z$.
Choose $Z'\in (ZM)$ distinct from $Z$ such that $MZ'=MZ$.

Note that two pairs of angles 
$\ang ZMB$, $\ang Z'MC$
and
$\ang ZMC$, $\ang Z'MB$
are vertical.
It follows that
\begin{align*}
\triangle MZB&\cong \triangle MZ'C,
& 
\triangle MZC&\cong \triangle MZ'B,
\\
\measuredangle MBZ&=\measuredangle MCZ',
&
\measuredangle MCZ&=\measuredangle MBZ'.
\end{align*}

Since $Z$ lies on $(AB)$ and $(CD)$,
we have
\begin{align*}
2\cdot\measuredangle ABC&\equiv 2\cdot\measuredangle ZBC
&
2\cdot\measuredangle BCD &\equiv 2\cdot\measuredangle BCZ
\end{align*}
Therefore
\begin{align*}
2\cdot\measuredangle ZBZ'
&\equiv 2\cdot \measuredangle ZBC+2\cdot \measuredangle CBZ'\equiv
\\
&\equiv 2\cdot \measuredangle ZBC+2\cdot \measuredangle BCZ\equiv
\\
&\equiv 0
\end{align*}
That is, $Z'\in (AB)$.

The same way we get that $Z'\in (CD)$.
By Axiom~\ref{def:birkhoff-axioms:2}, $(CD)=(AB)$,
in particular $(CD)=(AB)$.

\parit{}($\Rightarrow$). Assume $(AB)\parallel(C D)$.
Choose $D'$ so that 
$$2\cdot \measuredangle A B C+2\cdot \measuredangle B C D'\equiv 0.$$
Then according to the ``if''-part, $(AB)\parallel (CD')$.

From the uniqueness of parallel line (Theorem~\ref{thm:parallel})
we get that $(CD)=(CD')$.
In particular, $2\cdot\measuredangle BCD\equiv 2\cdot\measuredangle BCD'$.
Hence the result.
\qeds








%??? REDO with P in the center of absolute.

\begin{wrapfigure}{o}{43mm}
\begin{lpic}[t(-5mm),b(0mm),r(0mm),l(0mm)]{pics/angle-par(0.85)}
\lbl[tr]{21,18;$Q$}
\lbl[tr]{21,29;$P$}
\lbl[br]{22,60;$P'$}
\lbl[bl]{42,39;$H$}
\lbl[bl]{24,46;$M$}
\lbl[tl]{43,18;$A$}
\lbl[tr]{3,18;$B$}
\lbl[tr]{37,43.5;\small{$\phi$}}
\end{lpic}
\end{wrapfigure}

\parit{Proof.}
Denote by $A$ and $B$ the ideal points of $\ell$.

Applying an isometry of h-plane if necessary,
we may assume $Q$ is the center of absolute, 
so $[AB]$ is a diameter of absolute.

Draw the h-line $(PZ)_h$
so
the circle $\Gamma$ containing $(PZ)_h$ is tangent to $(AB)$ at $A$.
Clearly $|\measuredangle_h Q P Z|=\phi$; without loss of generality 
we may assume that $\measuredangle_h Q P Z=\phi$.

Set $a=QP$; by Lemma~\ref{lem:O-h-dist},
$$a=\frac{e^h-1}{e^h+1}.$$

Let $P'$ be the inverse of $P$ in the absolute
and $M$ be the midpoint of $[PP']$.
Clearly 
$$PM=\tfrac12\cdot(QP'-QP)=\frac{\frac1a-a}{2}.$$

Note that $\phi=\measuredangle MHP$.
Since $HM=AQ=1$, we get that
$$\tan\phi=\frac{MP}{HM}=\frac{\frac1a-a}{2}$$


Therefore
$$\tan \phi
=\frac{\frac{e^h+1}{e^h-1}-\frac{e^h-1}{e^h+1}}2
=\frac{4\cdot e^{h}}{2\cdot( e^{2\cdot h}-1)}
=\frac{2}{e^{h}-e^{-h}}=\frac1{\sinh h}.$$
\qedsf












\parit{Proof.} %???CHANGE THE PROOF???
Further we assume that both arcs are nondegenerate.
The degenerate cases are left to the reader.

According to Theorem~\ref{thm:tangent-angle},
\begin{align*}
2\cdot \measuredangle X_1AC
&\equiv -2\cdot \measuredangle Y_1CA,
\\
2\cdot \measuredangle CAX_2
&\equiv -2\cdot \measuredangle ACY_2.
\end{align*}
Since the pairs of points $(X_1, Y_1)$ and $(X_2, Y_2)$
lie on the same side from $(AC)$,
we get that the  angles in the pairs of angles 
$\ang X_1AC$, $\ang Y_1CA$ 
and $\ang CAX_2$, $\ang ACY_2$
have opposite signs.
Therefore 
\begin{align*}
\measuredangle X_1AC
&\equiv - \measuredangle Y_1CA,
\\
 \measuredangle CAX_2
&\equiv - \measuredangle ACY_2.
\end{align*}
Adding these two identities, we get the result.
\qeds








\begin{thm}{Exercise}\label{ex:3-inversions}
Consider the three inversions
in the circles centered at $O$ and radii $r_1$, $r_2$ and $r_3$.
Show that the composition of these three inversions is an inversion in a circle centered at $O$.
Find the radius of this circle.

Try to use this problem to finish the proof of Theorem \ref{thm:angle-inversion} in case $A\in\Omega$.
\end{thm}







Two arcs $AB_1C_1$ and $AB_2C_2$ are called \index{tangent!tangent arcs}\emph{tangent} at $A$ if their tangent half-lines at $A$ coincide.

\begin{thm}{Lemma}\label{lem:tangent-to-tangent}
Let $AB_1C_1$ and $AB_2C_2$ be arcs tangent at $A$.
Assume $A'B_1'C_1'$ and $A'B_2'C_2'$ be their inversions in a circle.
Then the arcs $A'B_1'C_1'$ and $A'B_2'C_2'$ are tangent at $A'$.
\end{thm}

This lemma might look evident, 
but the formal proof is not short and tedious.

\parit{Proof.}
Denote by $\Gamma_1$, $\Gamma_2$, $\Gamma_1'$, and $\Gamma_2'$ the circles containing arcs $AB_1C_1$, $AB_2C_2$, $A'B_1'C_1'$ and $A'B_2'C_2'$ correspondingly.

Note that $\Gamma_1$ and $\Gamma_2$ are tangent at $A$; 
that is, $A$ is the only point of intersection of 
$\Gamma_1$ and $\Gamma_2$.
Therefore $\Gamma_1'$ and $\Gamma_2'$ are tangent at $A'$.
In particular the tangent lines to $\Gamma_1'$ and $\Gamma_2'$ at $A'$ coincide.

It remains to show that the half lines tangent to $A'B_1'C_1'$ and $A'B_2'C_2'$ at $A'$ cannot be opposite. 

Let $[AX)$ be the tangent half-line to arcs $AB_1C_1$ and $AB_2C_2$  at $A$ 
and $[AY_1)$ be the tangent half-lines to arcs $A'B_1'C_1'$   at $A'$.
Denote by $O$ the center of inversion.

Note that
 the angles $\ang OAX$ and $\ang OAY_1$ have the same signs.
Further $\ang OAX$ is acute (obtuse)
if and only if $\ang OAY_1$  is obtuse (correspondingly acute).

Repeating the same argument for half-line $[AY_2)$ which is tangent  to the arcs $A'B_2'C_2'$   at $A'$,
we get that angles $\ang OAY_1$ and $\ang OAY_2$ have the same sign which implies that they cannot be opposite unless the angles are $0$ and $\pi$.
In the remaining case these angle have to be both  acute or  both obtuse;
which means they both $0$ or both $\pi$.
\qeds







\begin{wrapfigure}{o}{58mm}
\begin{lpic}[t(-10mm),b(0mm),r(0mm),l(0mm)]{pics/angle-inversion(0.8)}
\lbl[rb]{47,33;$A$}
\lbl[lt]{39,31;$A'$}
\lbl[rb]{57,11;$B_1$}
\lbl[lt]{34,22;$B_1'$}
\lbl[r]{36,3;$C_1$}
\lbl[rt]{31,12;$C_1'$}
\lbl[t]{48,15;$Z_1$}
\lbl[b]{69,28;$X_1$}
\lbl[br]{22,15;$Y_1$}

\lbl[lb]{49,43;$B_2$}
\lbl[b]{41,43;$C_2$}
\lbl[rw]{35,35;$B_2'$}
\lbl[rb]{37,39;$C_2'$}
\lbl[br]{36,55;$Z_2$}
\lbl[tl]{65,44.5;$X_2$}
\lbl[t]{10,34;$Y_2$}
\end{lpic}
\end{wrapfigure}

 
\parit{Proof.}
Assume $A\ne A'$; 
that is, $A$ does not lie on the circle of inversion.

According to Exercise~\ref{ex:tangent-arc},
there are arcs $AZ_1A'$ and $AZ_2A'$ such that the half-lines $[AX_1)$ and $[AX_2)$
are tangent to these arcs at $A$.

From Corollary~\ref{cor:perp-inverse}, it follows that
the arcs $AZ_1A'$ and $AZ_2A'$ are inverted to themselves.
By Lemma~\ref{lem:tangent-to-tangent}, 
arc $AZ_1A'$ is tangent to arc $A'B_1'C_1'$
and  $AZ_2A'$ is tangent to arc $A'B_2'C_2'$ at $A'$.

From Exercise~\ref{ex:two-arcs}, the result follows.

The remaining special case $A\in\Omega$ is left to the reader;
see Exercise~\ref{ex:3-inversions} for a hint.
\qeds









 \begin{wrapfigure}{o}{50mm}
\begin{lpic}[t(-5mm),b(-1mm),r(0mm),l(0mm)]{pics/P-hat(1)}
\lbl[rt]{31.5,31.5;$O$}
\lbl[t]{43,37;$P$}
\lbl[b]{87,71;$P'$}
\lbl[l]{55,42;$Q$}
\lbl[t]{63,22;$A$}
\lbl[b]{45,62;$B$}
\end{lpic}
\caption*{$\hat P=\hat P'=Q$}
\end{wrapfigure}


\parit{Proof.} Denote by $Q$ the intersection of $[OP)$ and $[AB]$.
We need to show that $Q=\hat P$.

Let $P'$ be inverse of $P$ in $\Omega$.
According to ???, $P'\in \Gamma$.
Set $x=OP$, so $OP'=\tfrac1x$.

By ??? $$\triangle QPA\sim\triangle QBP'\ \ \text{and}\ \ \triangle QPB\sim\triangle QAP'.$$
Further by ???
$$\triangle OPA\sim\triangle OAP'\ \ \text{and}\ \ \triangle OPB\sim\triangle OBP'.$$
Therefore
\begin{align*}
\frac{P'Q}{PQ}&=\frac{AQ}{PQ}\cdot\frac{P'Q}{AQ}=
\\
&=\frac{P'A}{BP}\cdot\frac{P'B}{PA}=
\\
&=\frac{P'B}{BP}\cdot\frac{P'A}{PA}=
\\
&=\frac{OP'}{OB}\cdot\frac{OP'}{OA}=\frac1{x^2}.
\end{align*}
It follows that
$$PQ=$$


Without loss of generality, we may assume that $P$ lies inside $\Omega$;
otherwise sqitch $P$ with $P'$.
Set $a=OP$, so

Then 
\begin{align*}
OQ&=OP+PQ=
\\
&=OP+PP'\cdot \frac{PQ}{P'Q}
\end{align*}


\qeds



\begin{thm}{Lemma}
Let $P$ and $Q$ be distinct points in h-plane and the points $A$ and $B$ are the ideal points of h-line $(PQ)_h$.
Then the points $A$, $\hat P$, $\hat Q$, and $B$ lie on one line.
More over 
$$PQ_h=\tfrac12\cdot\ln\frac{A\hat P\cdot B\hat Q}{\hat PB\cdot \hat QA}.$$
\end{thm}

 
 
 
 
 
 
 
 
 
 In hyperbolic geometry the definition of parallel lines is slightly different.
Given a point $P$ off the h-line $(AB)_h$ 
there are infinite number of h-lines passing through $P$ and not intersecting $(AB)_h$. 
Among them there are only two parallel h-lines to $(AB)_h$. 
An h-line $(PQ)_h$ is called parallel to $(AB)_h$
in direction from $A$ to $B$ if the points $Q$ and $B$ lie on one side from $(AP)_h$, but any line from $P$ which leaves $Q$ and $A$ on opposite sides is intersecting $(AB)_h$.

If $Q$ as above and $F$ is the foot point of $P$ on $(AB)_h$ then $\phi=|\measuredangle_h FPQ|$ is called angle of parallelism.
Clearly $\phi$ is completely determined by $h=PF_h$.

The same way one can define an h-line parallel to $(AB)_h$
in direction from $B$ to $A$.
The remaining lines through $P$ which do not intesect $(AB)_h$ are called ultra parallel.












\section{}

Let $P$ and $Q$ be two points of h-plane.
Define h-distance  as 
$$PQ_h=-\ln\delta(P,Q).$$
\parbf{Comments.}
Since $\delta(P,Q)\le 1$, we need to use negative constant in front of $\ln\delta(P,Q)$ to make $PQ_h$ nonnegative.
We might use any negative constant instead of $-1$, all of them will give a metric; the choice of the constant is made to have some formulas simpler.


\begin{thm}{Theorem} \label{lem:h-dist}
The function $(P,Q)\mapsto PQ_h$ is a distance function on h-plane.
Moreover, if we equip h-plane with h-distance function, then
\begin{enumerate}[(a)]
\item Any inverse in extended line is an isometry of h-plane.
\item  h-lines and only they form a lines in h-plane.
\end{enumerate}
\end{thm}



\parit{Proof.}
From Lemma~\ref{lem:0-1}, $PQ_h\ge0$ and $PQ_h=0$ iff $P=Q$.

From Lemma~\ref{lem:delta-inverse}, it follows that inverse in extended line 
preserves h-distance. 
Further, from Lemma~\ref{lem:perp-inverse}, any such inverse is a bijection of h-plane. 

It remains to prove triangle inequality;
that is,
$$PQ_h\le PZ_h+ZQ_h\eqlbl{eq:h-tringle}$$
for any $Z$ in h-plane.

\begin{wrapfigure}{o}{35mm}
\begin{lpic}[t(0mm),b(0mm),r(0mm),l(0mm)]{pics/h-triangle-in(0.8)}
\lbl[t]{8,26;$P$}
\lbl[t]{29,38;${\leftarrow} Q$}
\lbl[t]{21,30;$Z$}
\end{lpic}
\end{wrapfigure}

From Lemma~\ref{lem:delta-dot}, it follows that \ref{eq:h-tringle} becomes equality for any $Z\in[PQ]_h$.
Thus, if \ref{eq:h-tringle} does not hold, then for some $Z\in[PQ]_h$ there is $Z'$ in the h-plane such that $PZ'_h<PZ_h$ and $QZ'_h<QZ_h$.

Apply Lemma~\ref{lem:delta-inverse}, for $P$ and $\lambda=\delta(P,Z)$ and for $Q$ and $\lambda=\delta(Q,Z)$.
We get two circles $\Gamma_P$ and $\Gamma_Q$,
both of them are passing through $Z$ and perpendicular to $(PQ)_h$.
It follows that circles $\Gamma_P$ and $\Gamma_Q$ are tangent at $Z$
and there is no point $Z'$ which lie inside $\Gamma_P$ and $\Gamma_Q$ at the same time.
Moreover $Z$ is the only point of intersection of $\Gamma_P$ and $\Gamma_Q$.

Finally note that since \ref{eq:h-tringle} becomes equality for any $Z\in[PQ]_h$, 
any h-line forms a line in h-plane with h-distance;
that is, any h-line equipped with h-distance is isometric to $\mathbb{R}$. 
Since $Z$ is the only point of intersection of $\Gamma_P$ and $\Gamma_Q$, it follows that there no other lines in this metric space.
\qeds
 
\section*{Axiom~IV}

Further we always assume that h-plane is equipped with h-distance function.

Above we proved (Theorem~\ref{lem:h-dist}) that h-plane is a metric space, obliviously it contains at least two points.
Further, theorems~\ref{lem:h-dist} and \ref{thm:h-line} show that Axiom~I holds for h-plane.
The fact that Axiom~II holds for h-plane follows directly from the definition of h-angle.

To show that model Poincar\'e satisfies Definition~\ref{def:birkhoff-axioms-absolute},
it remains to prove that Axiom~IV holds in h-plane.
That is, we need to prove the following theorem:

\begin{thm}{Theorem}
Assume that for h-triangles $\triangle_h A B C$ and $\triangle_h A' B' C'$ in the h-plane, we have
$$A' B'_h= A B_h,
\ A' C'_h= A C_h$$
$$\ \text{and}\ 
\measuredangle_h C' A' B'=\pm\measuredangle_h C A B.\eqlbl{birkhoff-signs}$$
Then 
$$ B' C'_h= B C_h,
\ \measuredangle_h A' B' C'=\pm\measuredangle_h A B C,
\ \measuredangle_h B' C' A'=\pm\measuredangle_h B  C A $$
With signs as in \ref{birkhoff-signs}.

In particular $\triangle_h A B C\cong\triangle_h A' B' C'$.
\end{thm}


\parit{Proof.}
Note that there is an h-line $\ell$ such that the inverse in the extension of $\ell$ sends $A$ to the center of absolute.
Recall that inverse in $\ell$ preserves h-distance only changes the sign of h-angles.%???
Thus, we may assume that $A$ is the center of absolute.
The same way we may assume that $A'$ is also the center of absolute (so $A'=A$).

It follows that the sides $[AB]_h$, $[AC]_h$, $[AB']_h$, and $[AC']_h$ are also segments in ordinary Euclidean sense.
In particular 
$$\measuredangle B'AC'\equiv\measuredangle_h B'AC'\equiv\pm\measuredangle_h BAC\equiv\pm\measuredangle BAC.$$
Direct calculation show that 
$$AB_h=-\ln\frac{r-AB}{r+AB},$$
where $r$ is the radius of absolute.
Therefore $A B'=AB$ and $A C'=AC$.
It follows that there is a rotation or reflection of euclidean plane which does not move $A$ and sends $B\mapsto B'$, $C\mapsto C'$.
Note that the rotation or reflection described above is also an isometry of h-plane,
moreover it preserves h-angles.
Hence   
$$ B' C'_h= B C_h,
\quad
\measuredangle_h A' B' C'
=
\pm\measuredangle_h A B C,
\quad
\measuredangle_h B' C' A'
=
\pm\measuredangle_h B  C A.
$$
\qedsf













\section{Absolute geometry}






 


\section*{Larger angle---longer side}

The next corollary states that in a nondegenerate triangle 
the larger side corresponds to a larger angle.

\begin{thm}{Corollary}\label{cor:larger-side=>larger-angle}
Assume that in a triangle $\triangle ABC$ the angles $\ang CAB$ and $\ang ABC$ are positive.
Then 
$CA>CB$ if and only if $\measuredangle CAB>\measuredangle ABC$.
\end{thm}

\parit{Proof.}
Note that for degenerate triangle the statement is trivially holds.

Set $\alpha=\measuredangle CAB$ and $\beta=\measuredangle ABC$.
If $\alpha=\beta$ then by Theorem~\ref{thm:isos},
$CA=CB$.

Therefore,  $\pi>\alpha> \beta>0$ or $\pi> \beta>\alpha>0$.
We will consider the first case; 
the second is completely analogous.

\begin{wrapfigure}[13]{o}{32mm}
\begin{lpic}[t(0mm),b(0mm),r(0mm),l(2mm)]{pics/ABCXZ(0.7)}
\lbl[rt]{2,1;$A$}
\lbl[lt]{38,1;$B$}
\lbl[rb]{10,42;$C$}
\lbl[tl]{31,35;$X$}
\lbl[l]{22,24;$Z$}
\lbl[r]{31,5;$\beta$}
\lbl[lw]{13,10;$\alpha$}
\end{lpic}
\end{wrapfigure}

Use Axiom \ref{def:birkhoff-axioms:2a}
to construct the half-line $[AX)$ 
such that $\measuredangle XAB=\beta$.

Note that the angle
$\measuredangle XAC= \beta-\alpha$ is negative.
By Proposition~\ref{prop:half-plane}, 
$C$ and $B$ lie on opposite sides of $(AX)$.
Hence $[CB]$ intersects $(AX)$ at a point, say at $Z$.

Note that $\measuredangle ZAB$ is either $\beta$ or $\beta-\pi$.
On the other hand $Z$ and $C$ lie on the same side from $(AB)$ and therefore the $\measuredangle ZAB>0$.
Hence 
$$\measuredangle ZAB=\beta.$$

By ASA consition (\ref{thm:ASA}), 
$$ZA=ZB.$$
By Corollary \ref{cor:degenerate-trig},
$$AC>AZ+CZ$$.
Therefore
$$AC>AZ+CZ=BZ+ZC=BZ.$$
\qedsf
